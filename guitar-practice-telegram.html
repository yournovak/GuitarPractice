<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>üé∏ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ü—Ä–∞–∫—Ç–∏–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; -webkit-tap-highlight-color: transparent; }
        .dark-theme { background: linear-gradient(to bottom right, #1a1a2e, #16213e) !important; color: #e0e0e0; }
        .dark-theme .bg-white { background: #2d2d2d !important; color: #e0e0e0 !important; }
        .dark-theme .bg-gray-50 { background: #383838 !important; color: #e0e0e0 !important; }
        .dark-theme .bg-gray-100 { background: #404040 !important; color: #e0e0e0 !important; }
        .dark-theme .from-amber-50, .dark-theme .from-orange-50, .dark-theme .from-purple-50, .dark-theme .from-blue-50, .dark-theme .from-green-50, .dark-theme .from-red-50, .dark-theme .from-indigo-50, .dark-theme .from-yellow-100, .dark-theme .to-orange-100 { background: #3a3a3a !important; }
        .dark-theme .bg-purple-50, .dark-theme .bg-orange-50, .dark-theme .bg-blue-50, .dark-theme .bg-indigo-50, .dark-theme .bg-green-50, .dark-theme .bg-teal-50, .dark-theme .bg-red-50 { background: #3a3a3a !important; color: #e0e0e0 !important; }
        .dark-theme .text-gray-700, .dark-theme .text-gray-800, .dark-theme .text-gray-900 { color: #e0e0e0 !important; }
        .dark-theme .text-gray-600 { color: #b0b0b0 !important; }
        .dark-theme .text-gray-500 { color: #999 !important; }
        .dark-theme .border-gray-200, .dark-theme .border-gray-300 { border-color: #555 !important; }
        .dark-theme input, .dark-theme textarea { background: #383838 !important; color: #e0e0e0 !important; border-color: #555 !important; }
        .dark-theme .border { border-color: #555 !important; }
        .dark-theme .bg-gray-200 { background: #4a4a4a !important; }
        .dark-theme .from-purple-50.to-orange-50 { background: linear-gradient(to right, rgba(147, 51, 234, 0.2), rgba(234, 88, 12, 0.2)) !important; }
        .dark-theme .active-tab { background: linear-gradient(to right, #9333ea, #ea580c) !important; }
        .calendar-day { cursor: pointer; transition: all 0.2s; }
        .calendar-day:hover { transform: scale(1.05); box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .dark-theme .calendar-day:hover { box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const tg = window.Telegram?.WebApp || { CloudStorage: null, initDataUnsafe: { user: {} } };
        if (tg.expand) tg.expand();

        const GuitarPracticeApp = () => {
            const [currentDate, setCurrentDate] = useState(new Date());
            const [practiceData, setPracticeData] = useState({});
            const [selectedDate, setSelectedDate] = useState(null);
            const [showModal, setShowModal] = useState(false);
            const [currentTab, setCurrentTab] = useState('calendar');
            const [darkTheme, setDarkTheme] = useState(false);
            const [learnedSongs, setLearnedSongs] = useState([]);
            const [toLearnSongs, setToLearnSongs] = useState([]);
            const [dailyQuote, setDailyQuote] = useState('');
            const [loading, setLoading] = useState(true);
            const [userProfile, setUserProfile] = useState({ username: '', avatar: '', registrationDate: new Date().toISOString(), lastLogin: new Date().toISOString() });
            const [notes, setNotes] = useState([]);
            const [showAchievementModal, setShowAchievementModal] = useState(null);
            const [showLearnedSongsModal, setShowLearnedSongsModal] = useState(false);
            const [showToLearnSongsModal, setShowToLearnSongsModal] = useState(false);
            const [showNotesModal, setShowNotesModal] = useState(false);

            const categories = {
                techniques: { name: '–¢–µ—Ö–Ω–∏–∫–∞', color: 'bg-orange-500', icon: '‚ö°' },
                improvisation: { name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è', color: 'bg-purple-500', icon: 'üé∏' },
                theory: { name: '–¢–µ–æ—Ä–∏—è', color: 'bg-green-500', icon: 'üìö' },
                songs: { name: '–ò–≥—Ä–∞ –ø–µ—Å–µ–Ω', color: 'bg-pink-500', icon: 'üéµ' },
                earTraining: { name: '–†–∞–∑–≤–∏—Ç–∏–µ —Å–ª—É—Ö–∞', color: 'bg-blue-500', icon: 'üëÇ' },
                other: { name: '–ü—Ä–æ—á–µ–µ', color: 'bg-teal-500', icon: 'üéº' }
            };

            const subcategories = {
                techniques: ['–†–∏—Ç–º–∏–∫–∞ –∏ –±–æ–∏', '–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–π —à—Ç—Ä–∏—Ö', '–î–∞—É–Ω—Å—Ç—Ä–æ–∫ –∏ –≥–∞–ª–æ–ø—ã', '–õ–µ–≥–∞—Ç–æ', '–í–∏–±—Ä–∞—Ç–æ –∏ –±–µ–Ω–¥—ã', '–°–≤–∏–ø', '–§–∏–Ω–≥–µ—Ä—Å—Ç–∞–π–ª', '–î—Ä—É–≥–æ–µ'],
                improvisation: ['–ò–≥—Ä–∞ –ø–æ–¥ –º–∏–Ω—É—Å–æ–≤–∫–∏', '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è –Ω–∞ –ø–µ—Å–Ω–∏', '–†–∞–±–æ—Ç–∞ —Å –¥–∏–Ω–∞–º–∏–∫–æ–π'],
                theory: ['–ò–∑—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤', '–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞', '–ê–Ω–∞–ª–∏–∑ –≥–∞—Ä–º–æ–Ω–∏–∏', '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∏—Ñ–∞'],
                songs: ['–†–∞–∑–±–æ—Ä –ø–µ—Å–Ω–∏', '–ò–≥—Ä–∞ –∑–Ω–∞–∫–æ–º–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞'],
                earTraining: ['–ü–æ–¥–±–æ—Ä –Ω–∞ —Å–ª—É—Ö', '–ü–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤', '–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫–∫–æ—Ä–¥–æ–≤', '–ü—Ä–æ–ø–µ–ª –º–µ–ª–æ–¥–∏—é –∏ –ø–æ–¥–æ–±—Ä–∞–ª –µ–µ –Ω–∞ –≥–∏—Ç–∞—Ä–µ'],
                other: ['–ù–∞–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Å–µ–Ω', '–†–µ–ø–µ—Ç–∏—Ü–∏—è –≤ –≥—Ä—É–ø–ø–µ', '–ó–≤—É–∫–æ–∑–∞–ø–∏—Å—å', '–í—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ']
            };
            const motivationalQuotes = [
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —è–∑—ã–∫ –¥—É—à–∏, –∞ –≥–∏—Ç–∞—Ä–∞ - —Ç–≤–æ–π –≥–æ–ª–æ—Å.",
                "–ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Ç–µ–±—è –∫ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤—É.",
                "–í–µ–ª–∏–∫–∏–µ –≥–∏—Ç–∞—Ä–∏—Å—Ç—ã –Ω–µ —Ä–æ–∂–¥–∞—é—Ç—Å—è - –æ–Ω–∏ –ø—Ä–∞–∫—Ç–∏–∫—É—é—Ç—Å—è.",
                "–¢–≤–æ–∏ –ø–∞–ª—å—Ü—ã –ø–æ–º–Ω—è—Ç —Ç–æ, —á—Ç–æ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞.",
                "–ü—Ä–æ–≥—Ä–µ—Å—Å - —ç—Ç–æ —Å—É–º–º–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
                "–ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–µ–±—è —Å –¥—Ä—É–≥–∏–º–∏. –°—Ä–∞–≤–Ω–∏–≤–∞–π —Å–µ–±—è –≤—á–µ—Ä–∞—à–Ω–µ–≥–æ —Å —Å–æ–±–æ–π —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–º.",
                "–¢–µ—Ä–ø–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤–∏—á–∫–∞ –≤ –º–∞—Å—Ç–µ—Ä–∞.",
                "–ú—É–∑—ã–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–∞–º, –≥–¥–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è —Å–ª–æ–≤–∞.",
                "–ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ - —ç—Ç–æ —É—Ä–æ–∫ –Ω–∞ –ø—É—Ç–∏ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–≤–æ–∏—Ö —ç–º–æ—Ü–∏–π.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å, –∞ –Ω–µ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ.",
                "–°–µ–≥–æ–¥–Ω—è—à–Ω—è—è –ø—Ä–∞–∫—Ç–∏–∫–∞ - –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–π —É—Å–ø–µ—Ö.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ —á—É–≤—Å—Ç–≤—É—é—Ç –ø–∞–ª—å—Ü—ã, –∫–æ–≥–¥–∞ –º–æ–ª—á–∏—Ç —Ä–∞–∑—É–º.",
                "–¢—ã –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–ª–∏–∂–µ –∫ —Å–≤–æ–µ–π —Ü–µ–ª–∏.",
                "–¢–∞–ª–∞–Ω—Ç –±–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏ - –∫–∞–∫ –≥–∏—Ç–∞—Ä–∞ –±–µ–∑ —Å—Ç—Ä—É–Ω.",
                "–ò–≥—Ä–∞–π –æ—Ç —Å–µ—Ä–¥—Ü–∞, —Ç–µ—Ö–Ω–∏–∫–∞ –ø—Ä–∏–¥—ë—Ç —Å–ª–µ–¥–æ–º.",
                "–ö–∞–∂–¥—ã–π –∞–∫–∫–æ—Ä–¥ - —ç—Ç–æ –Ω–æ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ.",
                "–¢–≤–æ—è –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–≤–æ–π —É—Ä–æ–≤–µ–Ω—å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–µ—Ä–∞–ø–∏—è –¥–ª—è –¥—É—à–∏ –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è, –∫–æ–≥–¥–∞ —É—Å—Ç–∞–ª. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è, –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª.",
                "–†–∏—Ç–º - —ç—Ç–æ –ø—É–ª—å—Å –º—É–∑—ã–∫–∏, –∞ —Ç—ã - –µ—ë —Å–µ—Ä–¥—Ü–µ.",
                "–ì–∏—Ç–∞—Ä–∞ –Ω–µ –ø—Ä–æ—â–∞–µ—Ç –ª–µ–Ω–∏, –Ω–æ —â–µ–¥—Ä–æ –Ω–∞–≥—Ä–∞–∂–¥–∞–µ—Ç —É—Å–µ—Ä–¥–∏–µ.",
                "–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –Ω–µ –¥–Ω—è–º–∏, –∞ –ø—Ä–∞–∫—Ç–∏–∫–æ–π.",
                "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç, –Ω–æ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –∑–∞—Å—Ç–∞—Ç—å —Ç–µ–±—è –∑–∞ —Ä–∞–±–æ—Ç–æ–π.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É –¥—É—à–∞–º–∏.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –ª—é–±–æ–≤—å –∫ –ø—Ä–æ—Ü–µ—Å—Å—É, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.",
                "–ö–∞–∂–¥—ã–π –≤–µ–ª–∏–∫–∏–π –≥–∏—Ç–∞—Ä–∏—Å—Ç –±—ã–ª –∫–æ–≥–¥–∞-—Ç–æ –Ω–æ–≤–∏—á–∫–æ–º.",
                "–¢–≤–æ–∏ —Ä—É–∫–∏ - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Ç–≤–æ—ë —Å–µ—Ä–¥—Ü–µ - –º—É–∑—ã–∫–∞.",
                "–ù–µ –±–æ–π—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ - –±–æ–π—Å—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏.",
                "–ì–∏—Ç–∞—Ä–∞ –∂–¥—ë—Ç —Ç–≤–æ–∏—Ö —Ä—É–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–±—ã–≤–∞–µ—à—å —Å–ª–æ–≤–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –¥–∏–∞–ª–æ–≥ –º–µ–∂–¥—É —Ç–æ–±–æ–π –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º.",
                "–ö–∞–∂–¥—ã–π –±–µ–Ω–¥, –∫–∞–∂–¥–æ–µ –≤–∏–±—Ä–∞—Ç–æ - —ç—Ç–æ —Ç–≤–æ—è –ø–æ–¥–ø–∏—Å—å.",
                "–¢—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞–µ—à—å –Ω–æ—Ç—ã - —Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å –∏—Å—Ç–æ—Ä–∏—é.",
                "–¢–µ—Ä–ø–µ–Ω–∏–µ - –ª—É—á—à–∏–π —É—á–∏—Ç–µ–ª—å –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ –≥–∏—Ç–∞—Ä–∞ –≥–æ–≤–æ—Ä–∏—Ç —Ç–æ, —á—Ç–æ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å —Å–∫–∞–∑–∞—Ç—å.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Ç–∞–∫, –±—É–¥—Ç–æ –Ω–∏–∫—Ç–æ –Ω–µ —Å–ª—É—à–∞–µ—Ç. –ò–≥—Ä–∞–π —Ç–∞–∫, –±—É–¥—Ç–æ –≤—Å–µ —Å–ª—É—à–∞—é—Ç.",
                "–¢–≤–æ—è —Ç–µ—Ö–Ω–∏–∫–∞ - —ç—Ç–æ –ª–µ—Å—Ç–Ω–∏—Ü–∞ –∫ —Å–≤–æ–±–æ–¥–µ –∏–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏–∏.",
                "–ö–∞–∂–¥–∞—è —Å–µ—Ä–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Ç–µ–±—è –∫ –ø–æ—Ç–æ–∫—É.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –∑–µ—Ä–∫–∞–ª–æ —Ç–≤–æ–µ–π –¥—É—à–∏.",
                "–ù–µ –ø—Ä–∞–∫—Ç–∏–∫—É–π –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ —Å—ã–≥—Ä–∞–µ—à—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–∫—Ç–∏–∫—É–π –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ —Å–º–æ–∂–µ—à—å —Å—ã–≥—Ä–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —ç–º–æ—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–µ –∑–≤—É–∫–æ–≤.",
                "–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ–≤–∏–¥–∏–º, –ø–æ–∫–∞ –Ω–µ –æ–≥–ª—è–Ω–µ—à—å—Å—è –Ω–∞–∑–∞–¥.",
                "–ö–∞–∂–¥–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ –±—É–¥—É—â–µ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ.",
                "–ì–∏—Ç–∞—Ä–∞ —É—á–∏—Ç —Ç–µ–±—è –±—ã—Ç—å —Ç–µ—Ä–ø–µ–ª–∏–≤—ã–º –∏ –Ω–∞—Å—Ç–æ–π—á–∏–≤—ã–º.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞—é—Ç –≤—Å–µ.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –º–µ–¥–∏—Ç–∞—Ü–∏—è –¥–ª—è –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–¢—ã —Ä–∞—Å—Ç—ë—à—å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –±–µ—Ä—ë—à—å –≥–∏—Ç–∞—Ä—É –≤ —Ä—É–∫–∏.",
                "–ù–µ –∏—â–∏ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞ - –∏—â–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∂–∏–∑–Ω—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–π.",
                "–¢–≤–æ—è –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –≥–∏—Ç–∞—Ä–µ –≤–µ—Ä–Ω—ë—Ç—Å—è –∫ —Ç–µ–±–µ —Å—Ç–æ—Ä–∏—Ü–µ–π.",
                "–ö–∞–∂–¥—ã–π —Ä–∏—Ñ, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –≤—ã—É—á–∏—à—å, —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ç–≤–æ–π —Å–ª–æ–≤–∞—Ä—å.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –ø—É—Ç—å, –∞ –Ω–µ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.",
                "–ì–∏—Ç–∞—Ä–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–∞–ª–∞–Ω—Ç–∞ - –æ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç –ª—é–±–≤–∏.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.",
                "–¢–≤–æ–∏ –ø–∞–ª—å—Ü—ã - —ç—Ç–æ –∫–∏—Å—Ç–∏, –≥—Ä–∏—Ñ - —Ö–æ–ª—Å—Ç.",
                "–ù–µ –±–æ–π—Å—è –æ—à–∏–±–æ–∫ - –æ–Ω–∏ —á–∞—Å—Ç—å –ø—É—Ç–∏.",
                "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –±–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏ - —à–∞–≥ –Ω–∞–∑–∞–¥.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –ø–∏—â–∞ –¥–ª—è –¥—É—à–∏ –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Å —É–º–æ–º, –∏–≥—Ä–∞–π —Å —Å–µ—Ä–¥—Ü–µ–º.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –¥—Ä—É–≥, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º.",
                "–¢–≤–æ—è —Ç–µ—Ö–Ω–∏–∫–∞ - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Ç–≤–æ–µ–π –º—É–∑—ã–∫–∞–ª—å–Ω–æ—Å—Ç–∏.",
                "–ù–µ —Å—á–∏—Ç–∞–π —á–∞—Å—ã –ø—Ä–∞–∫—Ç–∏–∫–∏ - –¥–µ–ª–∞–π –ø—Ä–∞–∫—Ç–∏–∫—É –≤–∞–∂–Ω–æ–π.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å–æ–µ–¥–∏–Ω—è–µ—Ç –Ω–∞—Å –≤—Å–µ—Ö.",
                "–ö–∞–∂–¥–∞—è –Ω–æ—Ç–∞ - —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—Ä–∞–∑–∏—Ç—å —Å–µ–±—è.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –∫–ª—é—á –∫ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π —Å–≤–æ–±–æ–¥–µ.",
                "–ì–∏—Ç–∞—Ä–∞ –Ω–∞—É—á–∏—Ç —Ç–µ–±—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ –∏ —Å—Ç—Ä–∞—Å—Ç–∏.",
                "–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å - —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–≤–æ–µ–π –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç–∏.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ –¥—É—à–∞ –ø–æ—ë—Ç —á–µ—Ä–µ–∑ –ø–∞–ª—å—Ü—ã.",
                "–ù–µ –∂–¥–∏ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ - —Å–æ–∑–¥–∞–≤–∞–π –ø—Ä–∏–≤—ã—á–∫—É.",
                "–ö–∞–∂–¥–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–µ–π —Å–µ–±—è.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∏—Å—Ç–∏–Ω–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è, –∫–æ–≥–¥–∞ –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è, –∫–æ–≥–¥–∞ –Ω–µ—Ç.",
                "–¢–≤–æ–∏ —Ä—É–∫–∏ –ø–æ–º–Ω—è—Ç –±–æ–ª—å—à–µ, —á–µ–º —Ç—ã –¥—É–º–∞–µ—à—å.",
                "–ù–µ —Å–¥–∞–≤–∞–π—Å—è - –∫–∞–∂–¥—ã–π –º–∞—Å—Ç–µ—Ä –±—ã–ª –∫–æ–≥–¥–∞-—Ç–æ —É—á–µ–Ω–∏–∫–æ–º.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –º–∞–≥–∏—è –≤ —Ñ–æ—Ä–º–µ –∑–≤—É–∫–æ–≤.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–∂–Ω–æ–µ –≤ –ø—Ä–æ—Å—Ç–æ–µ.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –æ–∫–Ω–æ –≤ —Ç–≤–æ—é –¥—É—à—É.",
                "–ö–∞–∂–¥—ã–π –≥–∏—Ç–∞—Ä–∏—Å—Ç —É–Ω–∏–∫–∞–ª–µ–Ω - –Ω–∞–π–¥–∏ —Å–≤–æ–π –≥–æ–ª–æ—Å.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ —Ä–∞–∑–≥–æ–≤–æ—Ä —Å —Å–∞–º–∏–º —Å–æ–±–æ–π.",
                "–ì–∏—Ç–∞—Ä–∞ –∂–¥—ë—Ç, –∫–æ–≥–¥–∞ —Ç—ã –≤–µ—Ä–Ω—ë—à—å—Å—è –∫ –Ω–µ–π.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å —ç–º–æ—Ü–∏–µ–π.",
                "–ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ - —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ –±—É–¥—É—â–µ–º—É —Å–µ–±–µ.",
                "–¢–≤–æ—è –º—É–∑—ã–∫–∞ - —ç—Ç–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —Ç–≤–æ–µ–π –¥—É—à–∏.",
                "–ù–µ –±–æ–π—Å—è –Ω–∞—á–∏–Ω–∞—Ç—å –∑–∞–Ω–æ–≤–æ - —ç—Ç–æ —á–∞—Å—Ç—å —Ä–æ—Å—Ç–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –¥–ª–∏–Ω–æ—é –≤ –∂–∏–∑–Ω—å.",
                "–ì–∏—Ç–∞—Ä–∞ —É—á–∏—Ç —Ç–µ–±—è —Å–ª—É—à–∞—Ç—å –∏ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–≤–æ–¥–µ.",
                "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∞–∫—Ç–∏–∫–∏ - —ç—Ç–æ –ø–æ–±–µ–¥–∞.",
                "–¢–≤–æ—è —Ç–µ—Ö–Ω–∏–∫–∞ —Å–ª—É–∂–∏—Ç —Ç–≤–æ–µ–π –º—É–∑—ã–∫–∞–ª—å–Ω–æ—Å—Ç–∏.",
                "–ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –¥—Ä—É–≥–∏—Ö.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç—ã –∑–∞–±—ã–≤–∞–µ—à—å –æ–±–æ –≤—Å—ë–º.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –ª—é–±–æ–≤—å –≤ –¥–µ–π—Å—Ç–≤–∏–∏.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ —Ç–≤–æ–π –≥–æ–ª–æ—Å, –∫–æ–≥–¥–∞ —Å–ª–æ–≤–∞ –Ω–µ –Ω—É–∂–Ω—ã.",
                "–ö–∞–∂–¥–∞—è —Å–µ—Ä–∏—è –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è —Å–∏–ª—å–Ω–µ–µ.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è –≤–µ—á–Ω—ã–º.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Å —Ü–µ–ª—å—é, –∏–≥—Ä–∞–π —Å —Ä–∞–¥–æ—Å—Ç—å—é."
            ];

            // –¢–∞–±–ª–∏—Ü–∞ —É—Ä–æ–≤–Ω–µ–π
            const levelTable = [
                { level: 1, totalXP: 0, nextLevelXP: 100, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 2, totalXP: 100, nextLevelXP: 150, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 3, totalXP: 250, nextLevelXP: 200, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 4, totalXP: 450, nextLevelXP: 250, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 5, totalXP: 700, nextLevelXP: 300, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 6, totalXP: 1000, nextLevelXP: 350, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 7, totalXP: 1350, nextLevelXP: 400, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 8, totalXP: 1750, nextLevelXP: 450, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 9, totalXP: 2200, nextLevelXP: 500, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 10, totalXP: 2700, nextLevelXP: 550, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 11, totalXP: 3250, nextLevelXP: 600, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 12, totalXP: 3850, nextLevelXP: 650, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 13, totalXP: 4500, nextLevelXP: 700, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 14, totalXP: 5200, nextLevelXP: 750, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 15, totalXP: 5950, nextLevelXP: 800, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 16, totalXP: 6750, nextLevelXP: 850, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 17, totalXP: 7600, nextLevelXP: 900, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 18, totalXP: 8500, nextLevelXP: 950, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 19, totalXP: 9450, nextLevelXP: 1000, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 20, totalXP: 10450, nextLevelXP: 1200, rank: '–ù–æ–≤–∏—á–æ–∫' },
                { level: 21, totalXP: 11650, nextLevelXP: 1400, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 22, totalXP: 13050, nextLevelXP: 1400, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 23, totalXP: 14450, nextLevelXP: 1400, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 24, totalXP: 15850, nextLevelXP: 1400, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 25, totalXP: 17250, nextLevelXP: 1400, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 26, totalXP: 18650, nextLevelXP: 1600, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 27, totalXP: 20250, nextLevelXP: 1600, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 28, totalXP: 21850, nextLevelXP: 1600, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 29, totalXP: 23450, nextLevelXP: 1600, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 30, totalXP: 25050, nextLevelXP: 1600, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 31, totalXP: 26650, nextLevelXP: 1800, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 32, totalXP: 28450, nextLevelXP: 1800, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 33, totalXP: 30250, nextLevelXP: 1800, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 34, totalXP: 32050, nextLevelXP: 1800, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 35, totalXP: 33850, nextLevelXP: 1800, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 36, totalXP: 35650, nextLevelXP: 2200, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 37, totalXP: 37850, nextLevelXP: 2200, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 38, totalXP: 40050, nextLevelXP: 2200, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 39, totalXP: 42250, nextLevelXP: 2200, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 40, totalXP: 44450, nextLevelXP: 2200, rank: '–£—á–µ–Ω–∏–∫' },
                { level: 41, totalXP: 46650, nextLevelXP: 2500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 42, totalXP: 49150, nextLevelXP: 2500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 43, totalXP: 51650, nextLevelXP: 2500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 44, totalXP: 54150, nextLevelXP: 2500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 45, totalXP: 56650, nextLevelXP: 3000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 46, totalXP: 59650, nextLevelXP: 3000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 47, totalXP: 62650, nextLevelXP: 3000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 48, totalXP: 65650, nextLevelXP: 3000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 49, totalXP: 68650, nextLevelXP: 3000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 50, totalXP: 71650, nextLevelXP: 3500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 51, totalXP: 75150, nextLevelXP: 3500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 52, totalXP: 78650, nextLevelXP: 3500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 53, totalXP: 82150, nextLevelXP: 3500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 54, totalXP: 85650, nextLevelXP: 3500, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 55, totalXP: 89150, nextLevelXP: 4000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 56, totalXP: 93150, nextLevelXP: 4000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 57, totalXP: 97150, nextLevelXP: 4000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 58, totalXP: 101150, nextLevelXP: 4000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 59, totalXP: 105150, nextLevelXP: 4000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 60, totalXP: 109150, nextLevelXP: 5000, rank: '–ü—Ä–∞–∫—Ç–∏–∫' },
                { level: 61, totalXP: 114150, nextLevelXP: 6000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 62, totalXP: 120150, nextLevelXP: 6000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 63, totalXP: 126150, nextLevelXP: 6000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 64, totalXP: 132150, nextLevelXP: 6000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 65, totalXP: 138150, nextLevelXP: 7000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 66, totalXP: 145150, nextLevelXP: 7000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 67, totalXP: 152150, nextLevelXP: 7000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 68, totalXP: 159150, nextLevelXP: 7000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 69, totalXP: 166150, nextLevelXP: 7000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 70, totalXP: 173150, nextLevelXP: 8000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 71, totalXP: 181150, nextLevelXP: 8000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 72, totalXP: 189150, nextLevelXP: 8000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 73, totalXP: 197150, nextLevelXP: 8000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 74, totalXP: 205150, nextLevelXP: 8000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 75, totalXP: 213150, nextLevelXP: 10000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 76, totalXP: 223150, nextLevelXP: 10000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 77, totalXP: 233150, nextLevelXP: 10000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 78, totalXP: 243150, nextLevelXP: 10000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 79, totalXP: 253150, nextLevelXP: 10000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 80, totalXP: 263150, nextLevelXP: 12000, rank: '–í–∏—Ä—Ç—É–æ–∑' },
                { level: 81, totalXP: 275150, nextLevelXP: 15000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 82, totalXP: 290150, nextLevelXP: 15000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 83, totalXP: 305150, nextLevelXP: 15000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 84, totalXP: 320150, nextLevelXP: 15000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 85, totalXP: 335150, nextLevelXP: 18000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 86, totalXP: 353150, nextLevelXP: 18000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 87, totalXP: 371150, nextLevelXP: 18000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 88, totalXP: 389150, nextLevelXP: 18000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 89, totalXP: 407150, nextLevelXP: 18000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 90, totalXP: 425150, nextLevelXP: 22000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 91, totalXP: 447150, nextLevelXP: 22000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 92, totalXP: 469150, nextLevelXP: 22000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 93, totalXP: 491150, nextLevelXP: 22000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 94, totalXP: 513150, nextLevelXP: 22000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 95, totalXP: 535150, nextLevelXP: 27000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 96, totalXP: 562150, nextLevelXP: 27000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 97, totalXP: 589150, nextLevelXP: 27000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 98, totalXP: 616150, nextLevelXP: 27000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 99, totalXP: 643150, nextLevelXP: 27000, rank: '–ú–∞—ç—Å—Ç—Ä–æ' },
                { level: 100, totalXP: 670150, nextLevelXP: 0, rank: '–ú–∞—ç—Å—Ç—Ä–æ (–õ–µ–≥–µ–Ω–¥–∞)' }
            ];

            useEffect(() => {
                const loadData = async () => {
                    const telegramUser = tg.initDataUnsafe?.user;
                    if (telegramUser) setUserProfile(prev => ({ ...prev, username: telegramUser.username || telegramUser.first_name || '–ì–∏—Ç–∞—Ä–∏—Å—Ç', avatar: telegramUser.photo_url || '' }));
                    
                    if (tg.CloudStorage) {
                        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –º–µ—Å—è—Ü–∞—Ö
                        tg.CloudStorage.getItems(['practiceMonths', 'learnedSongs', 'toLearnSongs', 'darkTheme', 'userProfile', 'notes'], (error, result) => {
                            if (!error && result) {
                                // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Å–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
                                if (result.learnedSongs) setLearnedSongs(JSON.parse(result.learnedSongs));
                                if (result.toLearnSongs) setToLearnSongs(JSON.parse(result.toLearnSongs));
                                if (result.darkTheme) setDarkTheme(JSON.parse(result.darkTheme));
                                if (result.userProfile) setUserProfile(prev => ({ ...prev, ...JSON.parse(result.userProfile), lastLogin: new Date().toISOString() }));
                                if (result.notes) setNotes(JSON.parse(result.notes));
                                
                                // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ –º–µ—Å—è—Ü–∞–º
                                const loadPracticeData = () => {
                                    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏)
                                    tg.CloudStorage.getItem('practiceData', (err, oldData) => {
                                        if (!err && oldData) {
                                            // –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
                                            try {
                                                const parsed = JSON.parse(oldData);
                                                setPracticeData(parsed);
                                                console.log('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞. –ë—É–¥—É—Ç –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏.');
                                            } catch (e) {
                                                console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', e);
                                            }
                                        }
                                        
                                        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–µ—Å—è—Ü–µ–≤
                                        if (result.practiceMonths) {
                                            try {
                                                const months = JSON.parse(result.practiceMonths);
                                                if (months.length > 0) {
                                                    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞
                                                    const keys = months.map(m => `practice_${m}`);
                                                    tg.CloudStorage.getItems(keys, (err2, monthsData) => {
                                                        if (!err2 && monthsData) {
                                                            const combined = {};
                                                            Object.keys(monthsData).forEach(key => {
                                                                const monthData = JSON.parse(monthsData[key]);
                                                                Object.assign(combined, monthData);
                                                            });
                                                            setPracticeData(combined);
                                                            console.log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –º–µ—Å—è—Ü–µ–≤: ${months.length}, –¥–Ω–µ–π: ${Object.keys(combined).length}`);
                                                        }
                                                        setLoading(false);
                                                    });
                                                    return;
                                                }
                                            } catch (e) {
                                                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Å—è—Ü–µ–≤:', e);
                                            }
                                        }
                                        
                                        setLoading(false);
                                    });
                                };
                                
                                loadPracticeData();
                            } else {
                                setLoading(false);
                            }
                        });
                    } else {
                        // LocalStorage - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç (–Ω–µ—Ç –ª–∏–º–∏—Ç–∞ 4KB)
                        ['practiceData', 'learnedSongs', 'toLearnSongs', 'darkTheme', 'userProfile', 'notes'].forEach(key => {
                            const data = localStorage.getItem(key);
                            if (data) {
                                if (key === 'practiceData') setPracticeData(JSON.parse(data));
                                else if (key === 'learnedSongs') setLearnedSongs(JSON.parse(data));
                                else if (key === 'toLearnSongs') setToLearnSongs(JSON.parse(data));
                                else if (key === 'darkTheme') setDarkTheme(JSON.parse(data));
                                else if (key === 'userProfile') setUserProfile(JSON.parse(data));
                                else if (key === 'notes') setNotes(JSON.parse(data));
                            }
                        });
                        setLoading(false);
                    }
                };
                loadData();
                setDailyQuote(motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)]);
            }, []);

            useEffect(() => { 
                if (!loading) { 
                    if (tg.CloudStorage) {
                        // CloudStorage - —Ä–∞–∑–±–∏–≤–∞–µ–º –ø–æ –º–µ—Å—è—Ü–∞–º (–ª–∏–º–∏—Ç 4KB –Ω–∞ –∫–ª—é—á)
                        try {
                            // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –º–µ—Å—è—Ü–∞–º
                            const dataByMonth = {};
                            const months = new Set();
                            
                            Object.keys(practiceData).forEach(dateKey => {
                                const yearMonth = dateKey.substring(0, 7); // "2026-02"
                                months.add(yearMonth);
                                
                                if (!dataByMonth[yearMonth]) {
                                    dataByMonth[yearMonth] = {};
                                }
                                dataByMonth[yearMonth][dateKey] = practiceData[dateKey];
                            });
                            
                            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü –æ—Ç–¥–µ–ª—å–Ω–æ
                            const monthsArray = Array.from(months);
                            monthsArray.forEach(yearMonth => {
                                const monthData = JSON.stringify(dataByMonth[yearMonth]);
                                const sizeKB = (monthData.length / 1024).toFixed(2);
                                
                                if (monthData.length > 4000) {
                                    console.warn(`‚ö†Ô∏è –ú–µ—Å—è—Ü ${yearMonth} –±–ª–∏–∑–æ–∫ –∫ –ª–∏–º–∏—Ç—É: ${sizeKB} KB`);
                                }
                                
                                tg.CloudStorage.setItem(`practice_${yearMonth}`, monthData, (err, success) => {
                                    if (err) {
                                        console.error(`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ${yearMonth}:`, err);
                                    }
                                });
                            });
                            
                            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–ø–∏—Å–æ–∫ –º–µ—Å—è—Ü–µ–≤
                            tg.CloudStorage.setItem('practiceMonths', JSON.stringify(monthsArray));
                            
                            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –∫–ª—é—á (–º–∏–≥—Ä–∞—Ü–∏—è)
                            tg.CloudStorage.removeItem('practiceData', () => {});
                            
                        } catch (e) {
                            console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏:', e);
                        }
                    } else {
                        // LocalStorage - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∫ –µ—Å—Ç—å (–Ω–µ—Ç –ª–∏–º–∏—Ç–∞ 4KB)
                        localStorage.setItem('practiceData', JSON.stringify(practiceData)); 
                    }
                } 
            }, [practiceData, loading]);
            useEffect(() => { if (!loading) { if (tg.CloudStorage) tg.CloudStorage.setItem('darkTheme', JSON.stringify(darkTheme)); else localStorage.setItem('darkTheme', JSON.stringify(darkTheme)); if (darkTheme) document.body.classList.add('dark-theme'); else document.body.classList.remove('dark-theme'); } }, [darkTheme, loading]);
            useEffect(() => { if (!loading) { if (tg.CloudStorage) tg.CloudStorage.setItem('learnedSongs', JSON.stringify(learnedSongs)); else localStorage.setItem('learnedSongs', JSON.stringify(learnedSongs)); } }, [learnedSongs, loading]);
            useEffect(() => { if (!loading) { if (tg.CloudStorage) tg.CloudStorage.setItem('toLearnSongs', JSON.stringify(toLearnSongs)); else localStorage.setItem('toLearnSongs', JSON.stringify(toLearnSongs)); } }, [toLearnSongs, loading]);
            useEffect(() => { if (!loading) { if (tg.CloudStorage) tg.CloudStorage.setItem('userProfile', JSON.stringify(userProfile)); else localStorage.setItem('userProfile', JSON.stringify(userProfile)); } }, [userProfile, loading]);
            useEffect(() => { if (!loading) { if (tg.CloudStorage) tg.CloudStorage.setItem('notes', JSON.stringify(notes)); else localStorage.setItem('notes', JSON.stringify(notes)); } }, [notes, loading]);

            const formatDateKey = (date) => `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
            const getDaysInMonth = (date) => { const year = date.getFullYear(), month = date.getMonth(); const dayOfWeek = new Date(year, month, 1).getDay(); return { daysInMonth: new Date(year, month + 1, 0).getDate(), startingDayOfWeek: (dayOfWeek + 6) % 7 }; };
            const getTotalMinutes = (dateKey) => practiceData[dateKey]?.entries?.reduce((sum, e) => sum + (e.minutes || 0), 0) || 0;
            const calculateStreak = () => { 
                const today = new Date(); 
                today.setHours(0, 0, 0, 0); 
                let streak = 0;
                let currentDate = new Date(today);
                
                // –ï—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –µ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–∞, —Å—á–∏—Ç–∞–µ–º —Å —Å–µ–≥–æ–¥–Ω—è
                if (getTotalMinutes(formatDateKey(currentDate)) > 0) {
                    while (getTotalMinutes(formatDateKey(currentDate)) > 0) { 
                        streak++; 
                        currentDate.setDate(currentDate.getDate() - 1); 
                    }
                } else {
                    // –ï—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –Ω–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏, –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—á–µ—Ä–∞
                    currentDate.setDate(currentDate.getDate() - 1);
                    while (getTotalMinutes(formatDateKey(currentDate)) > 0) { 
                        streak++; 
                        currentDate.setDate(currentDate.getDate() - 1); 
                    }
                }
                
                return streak; 
            };
            
            const calculateMaxStreak = () => {
                const allDates = Object.keys(practiceData).sort();
                if (allDates.length === 0) return 0;
                
                let maxStreak = 0;
                let currentStreak = 0;
                let prevDate = null;
                
                allDates.forEach(dateKey => {
                    if (getTotalMinutes(dateKey) > 0) {
                        if (prevDate === null) {
                            currentStreak = 1;
                        } else {
                            const prev = new Date(prevDate);
                            const curr = new Date(dateKey);
                            const diffDays = Math.floor((curr - prev) / (1000 * 60 * 60 * 24));
                            
                            if (diffDays === 1) {
                                currentStreak++;
                            } else {
                                maxStreak = Math.max(maxStreak, currentStreak);
                                currentStreak = 1;
                            }
                        }
                        prevDate = dateKey;
                    }
                });
                
                return Math.max(maxStreak, currentStreak);
            };
            const getTotalPracticeMinutes = () => Object.keys(practiceData).reduce((sum, key) => sum + getTotalMinutes(key), 0);
            const getMinutesThisWeek = () => { 
                const today = new Date();
                const start = new Date(today); 
                const dayOfWeek = today.getDay();
                const daysFromMonday = (dayOfWeek + 6) % 7; // 0=Mon, 1=Tue, ... 6=Sun
                start.setDate(today.getDate() - daysFromMonday); 
                start.setHours(0, 0, 0, 0); 
                let total = 0; 
                for (let d = new Date(start); d <= today; d.setDate(d.getDate() + 1)) {
                    total += getTotalMinutes(formatDateKey(d)); 
                }
                return total; 
            };
            const getMinutesThisMonth = () => { const today = new Date(), start = new Date(today.getFullYear(), today.getMonth(), 1); let total = 0; for (let d = new Date(start); d <= today; d.setDate(d.getDate() + 1)) total += getTotalMinutes(formatDateKey(d)); return total; };
            const getCategoryMinutes = (cat) => Object.values(practiceData).reduce((sum, day) => sum + (day.entries?.filter(e => e.category === cat).reduce((s, e) => s + (e.minutes || 0), 0) || 0), 0);
            const getTechniqueMinutes = (tech) => Object.values(practiceData).reduce((sum, day) => sum + (day.entries?.filter(e => e.category === 'techniques' && e.selectedTechniques?.includes(tech)).reduce((s, e) => s + (e.minutes || 0), 0) || 0), 0);
            const getTop3Techniques = () => subcategories.techniques.map(t => ({ name: t, minutes: getTechniqueMinutes(t) })).filter(t => t.minutes > 0).sort((a, b) => b.minutes - a.minutes).slice(0, 3);
            const getSortedCategories = () => Object.entries(categories).map(([key, cat]) => ({ key, ...cat, minutes: getCategoryMinutes(key) })).sort((a, b) => b.minutes - a.minutes);
            
            // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É—Ä–æ–≤–Ω–µ–π
            const getExperience = () => {
                const practiceXP = getTotalPracticeMinutes(); // 1 –º–∏–Ω—É—Ç–∞ = 1 XP
                
                // –ü–æ–¥—Å—á–µ—Ç XP –æ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–∏—Å–∫–ª—é—á–∞—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —É—Ä–æ–≤–Ω–∏ —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
                const streak = calculateStreak();
                let achievementXP = 0;
                
                achievements.forEach(a => {
                    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —É—Ä–æ–≤–Ω–∏
                    if (a.id.startsWith('level_')) return;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
                    const isUnlocked = a.checkFunc 
                        ? a.checkFunc() 
                        : a.type === 'streak' 
                            ? streak >= a.threshold 
                            : a.technique 
                                ? getTechniqueMinutes(a.technique) >= a.threshold 
                                : getCategoryMinutes(a.type) >= a.threshold;
                    
                    if (isUnlocked) {
                        achievementXP += (a.xp || 0);
                    }
                });
                
                return practiceXP + achievementXP;
            };
            
            const getLevelInfo = () => {
                const totalXP = getExperience();
                let currentLevel = 1;
                let currentXP = totalXP;
                
                for (let i = 0; i < levelTable.length; i++) {
                    if (totalXP >= levelTable[i].totalXP) {
                        currentLevel = levelTable[i].level;
                        currentXP = totalXP - levelTable[i].totalXP;
                    } else {
                        break;
                    }
                }
                
                const levelData = levelTable.find(l => l.level === currentLevel);
                const nextLevelXP = levelData ? levelData.nextLevelXP : 0;
                const rank = levelData ? levelData.rank : '–ù–æ–≤–∏—á–æ–∫';
                const progress = nextLevelXP > 0 ? (currentXP / nextLevelXP) * 100 : 100;
                
                return {
                    level: currentLevel,
                    rank: rank,
                    currentXP: currentXP,
                    nextLevelXP: nextLevelXP,
                    totalXP: totalXP,
                    progress: Math.min(progress, 100)
                };
            };
            
            const checkTimeBasedAchievement = (startHour, endHour) => Object.keys(practiceData).some(k => practiceData[k].entries?.some(e => { const h = new Date(e.timestamp).getHours(); return startHour < endHour ? (h >= startHour && h < endHour) : (h >= startHour || h < endHour); }));
            const checkMarathonDay = (mins) => Object.keys(practiceData).some(k => getTotalMinutes(k) >= mins);
            const checkWeeklyMarathon = () => { const today = new Date(); for (let w = 0; w < 52; w++) { let valid = true; for (let d = 0; d < 7; d++) { const date = new Date(today); date.setDate(today.getDate() - w * 7 - d); if (getTotalMinutes(formatDateKey(date)) < 120) { valid = false; break; } } if (valid) return true; } return false; };
            const check14DaysMarathon = () => { const today = new Date(); for (let w = 0; w < 52; w++) { let valid = true; for (let d = 0; d < 14; d++) { const date = new Date(today); date.setDate(today.getDate() - w * 14 - d); if (getTotalMinutes(formatDateKey(date)) < 120) { valid = false; break; } } if (valid) return true; } return false; };
            const check28DaysMarathon = () => { const today = new Date(); for (let w = 0; w < 52; w++) { let valid = true; for (let d = 0; d < 28; d++) { const date = new Date(today); date.setDate(today.getDate() - w * 28 - d); if (getTotalMinutes(formatDateKey(date)) < 120) { valid = false; break; } } if (valid) return true; } return false; };
            const checkFullCycle = () => Object.keys(practiceData).some(k => new Set(practiceData[k].entries?.map(e => e.category)).size === 6);
            const checkAllTechniquesWeek = () => { const today = new Date(), used = new Set(); for (let d = 0; d < 7; d++) { const date = new Date(today); date.setDate(today.getDate() - d); practiceData[formatDateKey(date)]?.entries?.forEach(e => e.selectedTechniques?.forEach(t => used.add(t))); } return used.size === subcategories.techniques.length; };

            const achievements = [
                { id: 'streak_10', name: '10 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üî•', type: 'streak', threshold: 10, xp: 50, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è 10 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–∞' },
                { id: 'streak_30', name: '30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: '‚ö°', type: 'streak', threshold: 30, xp: 100, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–∞' },
                { id: 'streak_100', name: '100 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üíé', type: 'streak', threshold: 100, xp: 100, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è 100 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–∞' },
                { id: 'streak_365', name: '–ì–æ–¥ –ø—Ä–∞–∫—Ç–∏–∫–∏', icon: 'üëë', type: 'streak', threshold: 365, xp: 100, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è 365 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–∞' },
                { id: 'night_owl', name: '–ù–æ—á–Ω–∞—è —Å–æ–≤–∞', icon: 'ü¶â', checkFunc: () => checkTimeBasedAchievement(22, 4), xp: 20, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑ –º–µ–∂–¥—É 22:00 –∏ 04:00' },
                { id: 'early_bird', name: '–ñ–∞–≤–æ—Ä–æ–Ω–æ–∫', icon: 'üê¶', checkFunc: () => checkTimeBasedAchievement(6, 9), xp: 20, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑ –º–µ–∂–¥—É 6:00 –∏ 9:00' },
                { id: 'marathon_2h', name: '–ú–∞—Ä–∞—Ñ–æ–Ω–µ—Ü 2—á', icon: 'üèÉ', checkFunc: () => checkMarathonDay(120), xp: 50, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è 2 —á–∞—Å–∞ (120 –º–∏–Ω—É—Ç) –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å' },
                { id: 'marathon_3h', name: '–ú–∞—Ä–∞—Ñ–æ–Ω–µ—Ü 3—á', icon: 'üèÉ‚Äç‚ôÇÔ∏è', checkFunc: () => checkMarathonDay(180), xp: 50, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è 3 —á–∞—Å–∞ (180 –º–∏–Ω—É—Ç) –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å' },
                { id: 'marathon_4h', name: '–ú–∞—Ä–∞—Ñ–æ–Ω–µ—Ü 4—á', icon: 'üèÉ‚Äç‚ôÄÔ∏è', checkFunc: () => checkMarathonDay(240), xp: 50, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è 4 —á–∞—Å–∞ (240 –º–∏–Ω—É—Ç) –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å' },
                { id: 'weekly_marathon', name: '–¢–µ—Ä–ø–µ–Ω–∏–µ –∏ —Ç—Ä—É–¥ (7–¥)', icon: 'üí™', checkFunc: checkWeeklyMarathon, xp: 100, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è –º–∏–Ω–∏–º—É–º 2 —á–∞—Å–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ —Ç–µ—á–µ–Ω–∏–µ 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥' },
                { id: '14days_marathon', name: '–¢–µ—Ä–ø–µ–Ω–∏–µ –∏ —Ç—Ä—É–¥ (14–¥)', icon: 'üí™', checkFunc: check14DaysMarathon, xp: 100, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è –º–∏–Ω–∏–º—É–º 2 —á–∞—Å–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥' },
                { id: '28days_marathon', name: '–¢–µ—Ä–ø–µ–Ω–∏–µ –∏ —Ç—Ä—É–¥ (28–¥)', icon: 'üí™', checkFunc: check28DaysMarathon, xp: 100, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è –º–∏–Ω–∏–º—É–º 2 —á–∞—Å–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ —Ç–µ—á–µ–Ω–∏–µ 28 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥' },
                { id: 'full_cycle', name: '–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª', icon: 'üîÑ', checkFunc: checkFullCycle, xp: 50, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è –ø–æ –≤—Å–µ–º 6 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å' },
                { id: 'perfectionist', name: '–ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç', icon: '‚ú®', checkFunc: checkAllTechniquesWeek, xp: 100, desc: '–ü—Ä–∞–∫—Ç–∏–∫—É–π –≤—Å–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Ö–Ω–∏–∫–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π –Ω–µ–¥–µ–ª–∏' },
                { id: 'technique_1h', name: '–¢–µ—Ö–Ω–∏–∫–∞: 1 —á–∞—Å', icon: '‚ö°', type: 'techniques', threshold: 60, xp: 20, desc: '–ù–∞–±–µ—Ä–∏ 1 —á–∞—Å –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¢–µ—Ö–Ω–∏–∫–∞' },
                { id: 'technique_10h', name: '–¢–µ—Ö–Ω–∏–∫–∞: 10 —á–∞—Å–æ–≤', icon: 'üé∏', type: 'techniques', threshold: 600, xp: 50, desc: '–ù–∞–±–µ—Ä–∏ 10 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¢–µ—Ö–Ω–∏–∫–∞' },
                { id: 'technique_100h', name: '–¢–µ—Ö–Ω–∏–∫–∞: 100 —á–∞—Å–æ–≤', icon: 'üî•', type: 'techniques', threshold: 6000, xp: 100, desc: '–ù–∞–±–µ—Ä–∏ 100 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¢–µ—Ö–Ω–∏–∫–∞' },
                { id: 'improv_1h', name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è: 1 —á–∞—Å', icon: 'üéµ', type: 'improvisation', threshold: 60, xp: 20, desc: '–ù–∞–±–µ—Ä–∏ 1 —á–∞—Å –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è' },
                { id: 'improv_10h', name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è: 10 —á–∞—Å–æ–≤', icon: 'üéº', type: 'improvisation', threshold: 600, xp: 50, desc: '–ù–∞–±–µ—Ä–∏ 10 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è' },
                { id: 'improv_100h', name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è: 100 —á–∞—Å–æ–≤', icon: 'üèÜ', type: 'improvisation', threshold: 6000, xp: 100, desc: '–ù–∞–±–µ—Ä–∏ 100 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è' },
                { id: 'theory_1h', name: '–¢–µ–æ—Ä–∏—è: 1 —á–∞—Å', icon: 'üìö', type: 'theory', threshold: 60, xp: 20, desc: '–ù–∞–±–µ—Ä–∏ 1 —á–∞—Å –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¢–µ–æ—Ä–∏—è' },
                { id: 'theory_10h', name: '–¢–µ–æ—Ä–∏—è: 10 —á–∞—Å–æ–≤', icon: 'üìñ', type: 'theory', threshold: 600, xp: 50, desc: '–ù–∞–±–µ—Ä–∏ 10 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¢–µ–æ—Ä–∏—è' },
                { id: 'songs_1h', name: '–ü–µ—Å–Ω–∏: 1 —á–∞—Å', icon: 'üéµ', type: 'songs', threshold: 60, xp: 20, desc: '–ù–∞–±–µ—Ä–∏ 1 —á–∞—Å –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò–≥—Ä–∞ –ø–µ—Å–µ–Ω' },
                { id: 'songs_10h', name: '–ü–µ—Å–Ω–∏: 10 —á–∞—Å–æ–≤', icon: 'üé§', type: 'songs', threshold: 600, xp: 50, desc: '–ù–∞–±–µ—Ä–∏ 10 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò–≥—Ä–∞ –ø–µ—Å–µ–Ω' },
                { id: 'songs_100h', name: '–ü–µ—Å–Ω–∏: 100 —á–∞—Å–æ–≤', icon: 'üåü', type: 'songs', threshold: 6000, xp: 100, desc: '–ù–∞–±–µ—Ä–∏ 100 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò–≥—Ä–∞ –ø–µ—Å–µ–Ω' },
                { id: 'ear_1h', name: '–°–ª—É—Ö: 1 —á–∞—Å', icon: 'üëÇ', type: 'earTraining', threshold: 60, xp: 20, desc: '–ù–∞–±–µ—Ä–∏ 1 —á–∞—Å –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –†–∞–∑–≤–∏—Ç–∏–µ —Å–ª—É—Ö–∞' },
                { id: 'ear_10h', name: '–°–ª—É—Ö: 10 —á–∞—Å–æ–≤', icon: 'üéß', type: 'earTraining', threshold: 600, xp: 50, desc: '–ù–∞–±–µ—Ä–∏ 10 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –†–∞–∑–≤–∏—Ç–∏–µ —Å–ª—É—Ö–∞' },
                { id: 'other_1h', name: '–ü—Ä–æ—á–µ–µ: 1 —á–∞—Å', icon: 'üéº', type: 'other', threshold: 60, xp: 20, desc: '–ù–∞–±–µ—Ä–∏ 1 —á–∞—Å –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ü—Ä–æ—á–µ–µ' },
                { id: 'other_10h', name: '–ü—Ä–æ—á–µ–µ: 10 —á–∞—Å–æ–≤', icon: 'üéπ', type: 'other', threshold: 600, xp: 50, desc: '–ù–∞–±–µ—Ä–∏ 10 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ü—Ä–æ—á–µ–µ' },
                { id: 'total_100h', name: '–í—Å–µ–≥–æ: 100 —á–∞—Å–æ–≤', icon: '‚≠ê', checkFunc: () => getTotalPracticeMinutes() >= 6000, xp: 100, desc: '–ù–∞–±–µ—Ä–∏ 100 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å—É–º–º–∞—Ä–Ω–æ –ø–æ –≤—Å–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º' },
                { id: 'total_500h', name: '–í—Å–µ–≥–æ: 500 —á–∞—Å–æ–≤', icon: 'üí´', checkFunc: () => getTotalPracticeMinutes() >= 30000, xp: 100, desc: '–ù–∞–±–µ—Ä–∏ 500 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å—É–º–º–∞—Ä–Ω–æ –ø–æ –≤—Å–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º' },
                { id: 'total_1000h', name: '–í—Å–µ–≥–æ: 1000 —á–∞—Å–æ–≤', icon: 'üèÜ', checkFunc: () => getTotalPracticeMinutes() >= 60000, xp: 100, desc: '–ù–∞–±–µ—Ä–∏ 1000 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å—É–º–º–∞—Ä–Ω–æ –ø–æ –≤—Å–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º' },
                { id: 'level_10', name: '–î–æ—Å—Ç–∏–≥ 10 —É—Ä–æ–≤–Ω—è', icon: 'üéñÔ∏è', checkFunc: () => getLevelInfo().level >= 10, xp: 0, desc: '–î–æ—Å—Ç–∏–≥–Ω–∏ 10 —É—Ä–æ–≤–Ω—è –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞' },
                { id: 'level_20', name: '–î–æ—Å—Ç–∏–≥ 20 —É—Ä–æ–≤–Ω—è', icon: 'üéñÔ∏è', checkFunc: () => getLevelInfo().level >= 20, xp: 0, desc: '–î–æ—Å—Ç–∏–≥–Ω–∏ 20 —É—Ä–æ–≤–Ω—è –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞' },
                { id: 'level_40', name: '–î–æ—Å—Ç–∏–≥ 40 —É—Ä–æ–≤–Ω—è', icon: 'üéñÔ∏è', checkFunc: () => getLevelInfo().level >= 40, xp: 0, desc: '–î–æ—Å—Ç–∏–≥–Ω–∏ 40 —É—Ä–æ–≤–Ω—è –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞' },
                { id: 'level_60', name: '–î–æ—Å—Ç–∏–≥ 60 —É—Ä–æ–≤–Ω—è', icon: 'üéñÔ∏è', checkFunc: () => getLevelInfo().level >= 60, xp: 0, desc: '–î–æ—Å—Ç–∏–≥–Ω–∏ 60 —É—Ä–æ–≤–Ω—è –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞' },
                { id: 'level_80', name: '–î–æ—Å—Ç–∏–≥ 80 —É—Ä–æ–≤–Ω—è', icon: 'üéñÔ∏è', checkFunc: () => getLevelInfo().level >= 80, xp: 0, desc: '–î–æ—Å—Ç–∏–≥–Ω–∏ 80 —É—Ä–æ–≤–Ω—è –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞' },
                { id: 'level_100', name: '–î–æ—Å—Ç–∏–≥ 100 —É—Ä–æ–≤–Ω—è', icon: 'üéñÔ∏è', checkFunc: () => getLevelInfo().level >= 100, xp: 0, desc: '–î–æ—Å—Ç–∏–≥–Ω–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π 100 —É—Ä–æ–≤–µ–Ω—å –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞' }
            ];

            const getUnlockedAchievements = () => { const streak = calculateStreak(); return achievements.filter(a => a.checkFunc ? a.checkFunc() : a.type === 'streak' ? streak >= a.threshold : a.technique ? getTechniqueMinutes(a.technique) >= a.threshold : getCategoryMinutes(a.type) >= a.threshold); };
            
            const savePracticeEntry = (category, minutes, details, sourceLink, selectedTechniques, selectedApproaches, tempo) => {
                const dateKey = formatDateKey(selectedDate);
                setPracticeData(prev => ({ ...prev, [dateKey]: { ...prev[dateKey], entries: [...(prev[dateKey]?.entries || []), { id: Date.now(), category, minutes: parseInt(minutes), details, sourceLink, selectedTechniques, selectedApproaches, tempo, timestamp: new Date().toISOString() }] } }));
            };

            const deleteEntry = (dateKey, entryId) => {
                if ((tg.showConfirm && tg.showConfirm('–£–¥–∞–ª–∏—Ç—å?', () => {})) || confirm('–£–¥–∞–ª–∏—Ç—å?')) {
                    setPracticeData(prev => { const newData = { ...prev }; if (newData[dateKey]) { newData[dateKey].entries = newData[dateKey].entries.filter(e => e.id !== entryId); if (newData[dateKey].entries.length === 0) delete newData[dateKey]; } return newData; });
                }
            };

            const handleDateClick = (day) => { setSelectedDate(new Date(currentDate.getFullYear(), currentDate.getMonth(), day)); setShowModal(true); };

            const renderCalendar = () => {
                const { daysInMonth, startingDayOfWeek } = getDaysInMonth(currentDate);
                const days = [];
                ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'].forEach(d => days.push(<div key={`h-${d}`} className="text-center font-semibold text-gray-600 p-2 text-xs">{d}</div>));
                for (let i = 0; i < startingDayOfWeek; i++) days.push(<div key={`e-${i}`} className="p-2"></div>);
                for (let day = 1; day <= daysInMonth; day++) {
                    const dateKey = formatDateKey(new Date(currentDate.getFullYear(), currentDate.getMonth(), day));
                    const totalMinutes = getTotalMinutes(dateKey);
                    days.push(
                        <div key={day} onClick={() => handleDateClick(day)} className={`calendar-day p-2 border rounded-lg h-16 flex flex-col ${totalMinutes > 0 ? 'bg-gradient-to-br from-amber-50 to-orange-50 border-orange-200' : 'border-gray-200'}`}>
                            <div className="font-semibold text-gray-700 text-xs">{day}</div>
                            {totalMinutes > 0 && <div className="text-xs mt-auto text-orange-600 font-semibold">{totalMinutes}–º</div>}
                        </div>
                    );
                }
                return days;
            };

            const PracticeModal = () => {
                const [activeCategory, setActiveCategory] = useState('techniques');
                const [minutes, setMinutes] = useState('');
                const [notes, setNotes] = useState('');
                const [sourceLink, setSourceLink] = useState('');
                const [selectedSubcategories, setSelectedSubcategories] = useState([]);
                const [tempo, setTempo] = useState('');
                
                if (!showModal || !selectedDate) return null;
                const dateKey = formatDateKey(selectedDate);
                const existingEntries = practiceData[dateKey]?.entries || [];
                
                const handleSave = () => {
                    if (!minutes) return alert('–£–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º—è');
                    let details = notes;
                    let subcatsToSave = selectedSubcategories.length > 0 ? selectedSubcategories : [];
                    
                    if (selectedSubcategories.length > 0) {
                        details = `${selectedSubcategories.join(', ')}${notes ? ' | ' + notes : ''}`;
                    }
                    
                    if (activeCategory === 'techniques' && tempo) {
                        details += ` | –¢–µ–º–ø: ${tempo} bpm`;
                    }
                    
                    savePracticeEntry(activeCategory, minutes, details, sourceLink, subcatsToSave, [], tempo || '');
                    setMinutes(''); setNotes(''); setSourceLink(''); setSelectedSubcategories([]); setTempo('');
                };
                
                const currentSubcategories = subcategories[activeCategory] || [];
                
                return (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                        <div className="bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                            <div className="bg-gradient-to-r from-purple-600 to-orange-600 text-white p-4 flex justify-between rounded-t-xl">
                                <h2 className="text-lg font-bold">{selectedDate.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' })}</h2>
                                <button onClick={() => setShowModal(false)} className="text-2xl">‚úï</button>
                            </div>
                            <div className="p-4">
                                <div className="flex gap-2 mb-4 overflow-x-auto">
                                    {Object.entries(categories).map(([key, cat]) => (
                                        <button key={key} onClick={() => { setActiveCategory(key); setSelectedSubcategories([]); }} className={`px-3 py-2 rounded-lg text-xs whitespace-nowrap ${activeCategory === key ? `${cat.color} text-white` : 'bg-gray-100'}`}>
                                            {cat.icon} {cat.name}
                                        </button>
                                    ))}
                                </div>
                                <div className="space-y-3 mb-4">
                                    <input type="number" value={minutes} onChange={(e) => setMinutes(e.target.value)} className="w-full px-3 py-2 border rounded-lg text-sm" placeholder="–ú–∏–Ω—É—Ç—ã" />
                                    
                                    {currentSubcategories.length > 0 && (
                                        <div className="max-h-32 overflow-y-auto border rounded-lg p-2">
                                            {currentSubcategories.map(subcat => (
                                                <label key={subcat} className="flex items-center gap-2 p-1 text-xs cursor-pointer">
                                                    <input type="checkbox" checked={selectedSubcategories.includes(subcat)} onChange={(e) => setSelectedSubcategories(e.target.checked ? [...selectedSubcategories, subcat] : selectedSubcategories.filter(s => s !== subcat))} />
                                                    <span>{subcat}</span>
                                                </label>
                                            ))}
                                        </div>
                                    )}
                                    
                                    {activeCategory === 'techniques' && (
                                        <input type="number" value={tempo} onChange={(e) => setTempo(e.target.value)} className="w-full px-3 py-2 border rounded-lg text-sm" placeholder="–¢–µ–º–ø (BPM)" />
                                    )}
                                    
                                    <textarea value={notes} onChange={(e) => setNotes(e.target.value)} className="w-full px-3 py-2 border rounded-lg text-sm" rows="2" placeholder="–ó–∞–º–µ—Ç–∫–∏"></textarea>
                                    <input type="url" value={sourceLink} onChange={(e) => setSourceLink(e.target.value)} className="w-full px-3 py-2 border rounded-lg text-sm" placeholder="–°—Å—ã–ª–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)" />
                                    <button onClick={handleSave} className="w-full bg-gradient-to-r from-purple-600 to-orange-600 text-white py-3 rounded-lg font-bold">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </div>
                                {existingEntries.length > 0 && (
                                    <div className="border-t pt-4">
                                        <h3 className="font-bold text-sm mb-3">–ó–∞–ø–∏—Å–∏ ({existingEntries.length})</h3>
                                        {existingEntries.map(entry => (
                                            <div key={entry.id} className="mb-3 p-3 bg-gray-50 rounded-lg text-sm">
                                                <div className="flex justify-between">
                                                    <div>
                                                        <div className="font-semibold">{categories[entry.category]?.icon} {entry.minutes} –º–∏–Ω</div>
                                                        {entry.details && <div className="text-xs text-gray-600 mt-1">{entry.details}</div>}
                                                        {entry.sourceLink && <a href={entry.sourceLink} target="_blank" rel="noopener noreferrer" className="text-xs text-blue-600 hover:underline">üîó –°—Å—ã–ª–∫–∞</a>}
                                                    </div>
                                                    <button onClick={() => deleteEntry(dateKey, entry.id)} className="text-red-500">‚úï</button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            const CalendarView = () => {
                const top3 = getTop3Techniques();
                const sorted = getSortedCategories();
                return (
                    <>
                        <div className="bg-white rounded-xl shadow-lg p-4 mb-4">
                            <div className="flex justify-between items-center">
                                <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1))} className="px-3 py-2 bg-purple-600 text-white rounded-lg text-sm">‚Üê</button>
                                <h2 className="text-xl font-bold">{['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å', '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'][currentDate.getMonth()]} {currentDate.getFullYear()}</h2>
                                <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1))} className="px-3 py-2 bg-orange-600 text-white rounded-lg text-sm">‚Üí</button>
                            </div>
                        </div>
                        <div className="bg-white rounded-xl shadow-lg p-4 mb-4"><div className="grid grid-cols-7 gap-1">{renderCalendar()}</div></div>
                        <div className="bg-gradient-to-r from-purple-100 to-orange-100 rounded-xl p-4 mb-4 text-center">
                            <div className="text-xs text-gray-600 mb-1">üí≠ –ú–æ—Ç–∏–≤–∞—Ü–∏—è –¥–Ω—è</div>
                            <div className="text-sm font-semibold italic">"{dailyQuote}"</div>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div className="bg-white rounded-xl shadow-lg p-4">
                                <h3 className="text-lg font-bold mb-3">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                                <div className="space-y-2">
                                    <div className="flex items-center gap-2 p-2 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg">
                                        <span className="text-2xl">üî•</span>
                                        <div><div className="text-xs text-gray-600">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div><div className="text-lg font-bold text-orange-600">{calculateStreak()}</div></div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-2">
                                        <div className="p-2 bg-blue-50 rounded-lg"><div className="text-xs text-gray-600">–ó–∞ –Ω–µ–¥–µ–ª—é</div><div className="text-base font-bold text-blue-600">{getMinutesThisWeek()}–º</div></div>
                                        <div className="p-2 bg-indigo-50 rounded-lg"><div className="text-xs text-gray-600">–ó–∞ –º–µ—Å—è—Ü</div><div className="text-base font-bold text-indigo-600">{getMinutesThisMonth()}–º</div></div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-2">
                                        <div className="p-2 bg-green-50 rounded-lg"><div className="text-xs text-gray-600">–°—Ä–µ–¥–Ω–µ–µ/–¥–µ–Ω—å (–Ω–µ–¥)</div><div className="text-base font-bold text-green-600">{Math.round(getMinutesThisWeek() / (((new Date().getDay() + 6) % 7) + 1))}–º</div></div>
                                        <div className="p-2 bg-teal-50 rounded-lg"><div className="text-xs text-gray-600">–°—Ä–µ–¥–Ω–µ–µ/–¥–µ–Ω—å (–º–µ—Å)</div><div className="text-base font-bold text-teal-600">{Math.round(getMinutesThisMonth() / new Date().getDate())}–º</div></div>
                                    </div>
                                    {top3.length > 0 && (
                                        <div className="p-2 bg-purple-50 rounded-lg">
                                            <div className="text-xs text-gray-600 mb-1 font-semibold">üéØ –¢–æ–ø-3 —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö —Ç–µ—Ö–Ω–∏–∫:</div>
                                            {top3.map((t, i) => <div key={t.name} className="text-xs">{i + 1}. {t.name.split('(')[0]} - <span className="font-bold">{t.minutes}–º</span></div>)}
                                        </div>
                                    )}
                                </div>
                            </div>
                            <div className="bg-white rounded-xl shadow-lg p-4">
                                <h3 className="text-lg font-bold mb-3">üéØ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h3>
                                <div className="space-y-2">
                                    {sorted.map(cat => (
                                        <div key={cat.key} className="p-2 bg-gray-50 rounded-lg">
                                            <div className="flex justify-between mb-1">
                                                <div className="flex items-center gap-2"><div className={`w-2 h-2 rounded-full ${cat.color}`}></div><span className="text-xs font-semibold">{cat.icon} {cat.name}</span></div>
                                                <span className="text-xs text-gray-500">{Math.floor(cat.minutes / 60)}—á {cat.minutes % 60}–º</span>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-1"><div className={`${cat.color} h-1 rounded-full`} style={{ width: `${Math.min((cat.minutes / (getTotalPracticeMinutes() || 1)) * 100, 100)}%` }}></div></div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </>
                );
            };

            const AchievementsView = () => {
                const unlocked = getUnlockedAchievements();
                return (
                    <>
                        <div className="bg-white rounded-xl shadow-lg p-4">
                            <h3 className="text-xl font-bold mb-4">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è ({unlocked.length}/{achievements.length})</h3>
                            <div className="grid grid-cols-3 md:grid-cols-6 gap-2">
                                {achievements.map(a => {
                                    const isUnlocked = unlocked.some(u => u.id === a.id);
                                    return (
                                        <div key={a.id} onClick={() => setShowAchievementModal(a)} className={`p-2 rounded-lg text-center cursor-pointer transition-transform hover:scale-105 ${isUnlocked ? 'bg-gradient-to-br from-yellow-100 to-orange-100 border-2 border-yellow-400' : 'bg-gray-100 opacity-40 grayscale'}`}>
                                            <div className="text-2xl mb-1">{a.icon}</div>
                                            <div className="text-xs font-semibold leading-tight">{a.name}</div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                        {showAchievementModal && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" onClick={() => setShowAchievementModal(null)}>
                                <div className="bg-white rounded-xl max-w-md w-full p-6" onClick={(e) => e.stopPropagation()}>
                                    <div className="text-center">
                                        <div className="text-6xl mb-4">{showAchievementModal.icon}</div>
                                        <h3 className="text-2xl font-bold mb-2">{showAchievementModal.name}</h3>
                                        <p className="text-gray-600 mb-4">{showAchievementModal.desc}</p>
                                        <div className="text-sm text-purple-600 font-semibold mb-4">+{showAchievementModal.xp} –æ–ø—ã—Ç–∞</div>
                                        <button onClick={() => setShowAchievementModal(null)} className="w-full bg-gradient-to-r from-purple-600 to-orange-600 text-white py-3 rounded-lg font-bold">–ó–∞–∫—Ä—ã—Ç—å</button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </>
                );
            };

            const HistoryView = () => {
                // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–∑ practiceData
                const historyEntries = [];
                
                Object.keys(practiceData).forEach(dateKey => {
                    const dayData = practiceData[dateKey];
                    if (dayData && dayData.entries) {
                        dayData.entries.forEach(entry => {
                            historyEntries.push({
                                ...entry,
                                dateKey: dateKey,
                                date: new Date(entry.timestamp || dateKey)
                            });
                        });
                    }
                });
                
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
                historyEntries.sort((a, b) => b.date - a.date);
                
                // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ –¥–Ω—è–º
                const groupedByDay = {};
                historyEntries.forEach(entry => {
                    const dayKey = entry.dateKey;
                    if (!groupedByDay[dayKey]) {
                        groupedByDay[dayKey] = [];
                    }
                    groupedByDay[dayKey].push(entry);
                });
                
                const sortedDays = Object.keys(groupedByDay).sort((a, b) => new Date(b) - new Date(a));
                
                const downloadHistory = () => {
                    // –°–æ–∑–¥–∞–µ–º CSV —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π
                    let csv = '\uFEFF'; // BOM –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –≤ Excel
                    csv += '–î–∞—Ç–∞;–í—Ä–µ–º—è;–ö–∞—Ç–µ–≥–æ—Ä–∏—è;–ú–∏–Ω—É—Ç—ã;–î–µ—Ç–∞–ª–∏;–°—Å—ã–ª–∫–∞\n';
                    
                    historyEntries.forEach(entry => {
                        const date = new Date(entry.date).toLocaleDateString('ru-RU');
                        const time = new Date(entry.date).toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
                        const category = categories[entry.category]?.name || '';
                        const minutes = entry.minutes || 0;
                        const details = (entry.details || '').replace(/;/g, ',').replace(/\n/g, ' ');
                        const link = entry.sourceLink || '';
                        
                        csv += `${date};${time};${category};${minutes};${details};${link}\n`;
                    });
                    
                    // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
                    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = `guitar-practice-history-${new Date().toISOString().split('T')[0]}.csv`;
                    link.click();
                    URL.revokeObjectURL(url);
                };
                
                return (
                    <div className="bg-white rounded-xl shadow-lg p-4">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-xl font-bold">üìú –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏ ({historyEntries.length})</h3>
                            {historyEntries.length > 0 && (
                                <button 
                                    onClick={downloadHistory}
                                    className="px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg text-sm font-semibold hover:shadow-lg transition-shadow"
                                >
                                    üì• –°–∫–∞—á–∞—Ç—å
                                </button>
                            )}
                        </div>
                        {historyEntries.length === 0 ? (
                            <div className="text-center text-gray-500 py-8">
                                <div className="text-4xl mb-2">üìù</div>
                                <div>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—É—Å—Ç–∞</div>
                                <div className="text-sm mt-1">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ!</div>
                            </div>
                        ) : (
                            <div className="space-y-4 max-h-[600px] overflow-y-auto">
                                {sortedDays.map(dayKey => (
                                    <div key={dayKey} className="border-l-4 border-purple-500 pl-3">
                                        <div className="font-bold text-gray-700 mb-2 sticky top-0 bg-white pb-1">
                                            {new Date(dayKey).toLocaleDateString('ru-RU', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' })}
                                            <span className="ml-2 text-sm text-orange-600 font-semibold">
                                                ({groupedByDay[dayKey].reduce((sum, e) => sum + e.minutes, 0)} –º–∏–Ω)
                                            </span>
                                        </div>
                                        <div className="space-y-2">
                                            {groupedByDay[dayKey].map((entry, idx) => (
                                                <div key={entry.id || idx} className="p-3 bg-gradient-to-r from-purple-50 to-orange-50 rounded-lg">
                                                    <div className="flex justify-between items-start mb-1">
                                                        <div className="flex items-center gap-2">
                                                            <span className="text-xl">{categories[entry.category]?.icon}</span>
                                                            <div>
                                                                <div className="font-semibold text-gray-800 text-sm">{categories[entry.category]?.name}</div>
                                                                <div className="text-xs text-gray-600">
                                                                    {new Date(entry.date).toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div className="font-bold text-orange-600">{entry.minutes} –º–∏–Ω</div>
                                                    </div>
                                                    {entry.details && (
                                                        <div className="text-sm text-gray-700 mt-2 bg-white bg-opacity-50 p-2 rounded">
                                                            {entry.details}
                                                        </div>
                                                    )}
                                                    {entry.sourceLink && (
                                                        <a href={entry.sourceLink} target="_blank" rel="noopener noreferrer" className="text-xs text-blue-600 hover:underline mt-1 inline-block">
                                                            üîó –°—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª
                                                        </a>
                                                    )}
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                );
            };

            const NotesView = () => {
                const [newLearned, setNewLearned] = useState('');
                const [newToLearn, setNewToLearn] = useState('');
                const [currentTempo, setCurrentTempo] = useState('');
                const [targetTempo, setTargetTempo] = useState('');
                const [newNote, setNewNote] = useState('');
                
                return (
                    <>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div className="bg-white rounded-xl shadow-lg p-4 cursor-pointer hover:shadow-xl transition-shadow" onClick={() => setShowLearnedSongsModal(true)}>
                                <h3 className="text-lg font-bold mb-2">‚úÖ –í—ã—É—á–µ–Ω–Ω—ã–µ</h3>
                                <div className="text-3xl font-bold text-green-600">{learnedSongs.length}</div>
                                <p className="text-sm text-gray-600 mt-2">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
                            </div>
                            
                            <div className="bg-white rounded-xl shadow-lg p-4 cursor-pointer hover:shadow-xl transition-shadow" onClick={() => setShowToLearnSongsModal(true)}>
                                <h3 className="text-lg font-bold mb-2">üéØ –ü–ª–∞–Ω–∏—Ä—É—é</h3>
                                <div className="text-3xl font-bold text-blue-600">{toLearnSongs.length}</div>
                                <p className="text-sm text-gray-600 mt-2">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
                            </div>
                            
                            <div className="bg-white rounded-xl shadow-lg p-4 cursor-pointer hover:shadow-xl transition-shadow" onClick={() => setShowNotesModal(true)}>
                                <h3 className="text-lg font-bold mb-2">üìù –ó–∞–º–µ—Ç–∫–∏</h3>
                                <div className="text-3xl font-bold text-purple-600">{notes.length}</div>
                                <p className="text-sm text-gray-600 mt-2">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
                            </div>
                        </div>
                        
                        {showLearnedSongsModal && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" onClick={() => setShowLearnedSongsModal(false)}>
                                <div className="bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6" onClick={(e) => e.stopPropagation()}>
                                    <h3 className="text-xl font-bold mb-4">‚úÖ –í—ã—É—á–µ–Ω–Ω—ã–µ –ø–µ—Å–Ω–∏ ({learnedSongs.length})</h3>
                                    <div className="space-y-2 mb-4">
                                        {learnedSongs.map((s, i) => (
                                            <div key={i} className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                                                <div>
                                                    <div className="font-semibold">{s.name}</div>
                                                    <div className="text-xs text-gray-600">–í—ã—É—á–µ–Ω–∞: {new Date(s.date).toLocaleDateString('ru-RU')}</div>
                                                </div>
                                                <button onClick={() => setLearnedSongs(learnedSongs.filter((_, idx) => idx !== i))} className="text-red-500 px-2">‚úï</button>
                                            </div>
                                        ))}
                                        {learnedSongs.length === 0 && <div className="text-center text-gray-500 py-4">–ù–µ—Ç –≤—ã—É—á–µ–Ω–Ω—ã—Ö –ø–µ—Å–µ–Ω</div>}
                                    </div>
                                    <div className="flex gap-2 mb-4">
                                        <input type="text" value={newLearned} onChange={(e) => setNewLearned(e.target.value)} placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏" className="flex-1 px-3 py-2 border rounded-lg" onKeyPress={(e) => e.key === 'Enter' && newLearned && (setLearnedSongs([...learnedSongs, { name: newLearned, date: new Date().toISOString() }]), setNewLearned(''))} />
                                        <button onClick={() => newLearned && (setLearnedSongs([...learnedSongs, { name: newLearned, date: new Date().toISOString() }]), setNewLearned(''))} className="px-4 py-2 bg-green-600 text-white rounded-lg">–î–æ–±–∞–≤–∏—Ç—å</button>
                                    </div>
                                    <button onClick={() => setShowLearnedSongsModal(false)} className="w-full bg-gray-600 text-white py-3 rounded-lg font-bold">–ó–∞–∫—Ä—ã—Ç—å</button>
                                </div>
                            </div>
                        )}
                        
                        {showToLearnSongsModal && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" onClick={() => setShowToLearnSongsModal(false)}>
                                <div className="bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6" onClick={(e) => e.stopPropagation()}>
                                    <h3 className="text-xl font-bold mb-4">üéØ –ü–ª–∞–Ω–∏—Ä—É—é –≤—ã—É—á–∏—Ç—å ({toLearnSongs.length})</h3>
                                    <div className="space-y-2 mb-4">
                                        {toLearnSongs.map((s, i) => (
                                            <div key={i} className="p-3 bg-blue-50 rounded-lg">
                                                <div className="flex justify-between items-start mb-2">
                                                    <div>
                                                        <div className="font-semibold">{s.name}</div>
                                                        <div className="text-sm text-gray-600">–¢–µ–º–ø: {s.currentTempo} ‚Üí {s.targetTempo} bpm</div>
                                                        <div className="text-xs text-gray-600">–î–æ–±–∞–≤–ª–µ–Ω–∞: {new Date(s.date).toLocaleDateString('ru-RU')}</div>
                                                    </div>
                                                    <button onClick={() => setToLearnSongs(toLearnSongs.filter((_, idx) => idx !== i))} className="text-red-500 px-2">‚úï</button>
                                                </div>
                                            </div>
                                        ))}
                                        {toLearnSongs.length === 0 && <div className="text-center text-gray-500 py-4">–ù–µ—Ç –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã—Ö –ø–µ—Å–µ–Ω</div>}
                                    </div>
                                    <div className="space-y-2 mb-4">
                                        <input type="text" value={newToLearn} onChange={(e) => setNewToLearn(e.target.value)} placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏" className="w-full px-3 py-2 border rounded-lg" />
                                        <div className="grid grid-cols-2 gap-2">
                                            <input type="number" value={currentTempo} onChange={(e) => setCurrentTempo(e.target.value)} placeholder="–¢–µ–∫—É—â–∏–π —Ç–µ–º–ø" className="px-3 py-2 border rounded-lg" />
                                            <input type="number" value={targetTempo} onChange={(e) => setTargetTempo(e.target.value)} placeholder="–¶–µ–ª–µ–≤–æ–π —Ç–µ–º–ø" className="px-3 py-2 border rounded-lg" />
                                        </div>
                                        <button onClick={() => newToLearn && (setToLearnSongs([...toLearnSongs, { name: newToLearn, currentTempo: currentTempo || '0', targetTempo: targetTempo || '120', date: new Date().toISOString() }]), setNewToLearn(''), setCurrentTempo(''), setTargetTempo(''))} className="w-full px-3 py-2 bg-blue-600 text-white rounded-lg">–î–æ–±–∞–≤–∏—Ç—å</button>
                                    </div>
                                    <button onClick={() => setShowToLearnSongsModal(false)} className="w-full bg-gray-600 text-white py-3 rounded-lg font-bold">–ó–∞–∫—Ä—ã—Ç—å</button>
                                </div>
                            </div>
                        )}
                        
                        {showNotesModal && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" onClick={() => setShowNotesModal(false)}>
                                <div className="bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6" onClick={(e) => e.stopPropagation()}>
                                    <h3 className="text-xl font-bold mb-4">üìù –ó–∞–º–µ—Ç–∫–∏ ({notes.length})</h3>
                                    <div className="space-y-2 mb-4">
                                        {notes.map((note, i) => (
                                            <div key={i} className="p-3 bg-purple-50 rounded-lg">
                                                <div className="flex justify-between items-start mb-2">
                                                    <div className="flex-1">
                                                        <div className="text-sm whitespace-pre-wrap">{note.text}</div>
                                                        <div className="text-xs text-gray-600 mt-1">{new Date(note.date).toLocaleDateString('ru-RU')} {new Date(note.date).toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}</div>
                                                    </div>
                                                    <button onClick={() => setNotes(notes.filter((_, idx) => idx !== i))} className="text-red-500 px-2">‚úï</button>
                                                </div>
                                            </div>
                                        ))}
                                        {notes.length === 0 && <div className="text-center text-gray-500 py-4">–ù–µ—Ç –∑–∞–º–µ—Ç–æ–∫</div>}
                                    </div>
                                    <div className="space-y-2 mb-4">
                                        <textarea value={newNote} onChange={(e) => setNewNote(e.target.value)} placeholder="–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞..." className="w-full px-3 py-2 border rounded-lg" rows="3"></textarea>
                                        <button onClick={() => newNote && (setNotes([...notes, { id: Date.now(), text: newNote, date: new Date().toISOString() }]), setNewNote(''))} className="w-full px-3 py-2 bg-purple-600 text-white rounded-lg">–î–æ–±–∞–≤–∏—Ç—å</button>
                                    </div>
                                    <button onClick={() => setShowNotesModal(false)} className="w-full bg-gray-600 text-white py-3 rounded-lg font-bold">–ó–∞–∫—Ä—ã—Ç—å</button>
                                </div>
                            </div>
                        )}
                    </>
                );
            };

            const ProfileView = () => {
                const [editingName, setEditingName] = useState(false);
                const [newName, setNewName] = useState(userProfile.username);
                const [showStorageManagement, setShowStorageManagement] = useState(false);
                const unlocked = getUnlockedAchievements();
                
                // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
                const getStorageInfo = () => {
                    try {
                        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –∏–∑ —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (state)
                        const practiceDataStr = JSON.stringify(practiceData);
                        const userProfileStr = JSON.stringify(userProfile);
                        const learnedSongsStr = JSON.stringify(learnedSongs);
                        const toLearnSongsStr = JSON.stringify(toLearnSongs);
                        const notesStr = JSON.stringify(notes);
                        
                        const totalSize = practiceDataStr.length + userProfileStr.length + 
                                        learnedSongsStr.length + toLearnSongsStr.length + notesStr.length;
                        
                        const practiceDataSize = practiceDataStr.length;
                        const practiceDataDays = Object.keys(practiceData).length;
                        
                        // –î–ª—è CloudStorage: –ª–∏–º–∏—Ç 4KB –Ω–∞ –∫–ª—é—á, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä –ø–æ –º–µ—Å—è—Ü–∞–º
                        let maxMonthSize = 0;
                        let criticalMonth = '';
                        
                        if (tg.CloudStorage) {
                            // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ –º–µ—Å—è—Ü–∞–º
                            const dataByMonth = {};
                            Object.keys(practiceData).forEach(dateKey => {
                                const yearMonth = dateKey.substring(0, 7);
                                if (!dataByMonth[yearMonth]) dataByMonth[yearMonth] = {};
                                dataByMonth[yearMonth][dateKey] = practiceData[dateKey];
                            });
                            
                            // –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –º–µ—Å—è—Ü
                            Object.keys(dataByMonth).forEach(month => {
                                const monthSize = JSON.stringify(dataByMonth[month]).length;
                                if (monthSize > maxMonthSize) {
                                    maxMonthSize = monthSize;
                                    criticalMonth = month;
                                }
                            });
                        }
                        
                        // –î–ª—è CloudStorage –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–∏–º–∏—Ç 4KB –Ω–∞ –º–µ—Å—è—Ü
                        // –î–ª—è LocalStorage –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–∏–º–∏—Ç 5000 KB –æ–±—â–∏–π
                        const limitKB = tg.CloudStorage ? 4 : 5000;
                        const usedKB = tg.CloudStorage ? (maxMonthSize / 1024) : (totalSize / 1024);
                        const percentage = Math.min(100, (usedKB / limitKB) * 100);
                        
                        return {
                            totalKB: (totalSize / 1024).toFixed(2),
                            practiceDataKB: (practiceDataSize / 1024).toFixed(2),
                            maxMonthKB: (maxMonthSize / 1024).toFixed(2),
                            criticalMonth: criticalMonth,
                            daysCount: practiceDataDays,
                            percentage: percentage.toFixed(1),
                            isWarning: percentage > 70,
                            isCritical: percentage > 85,
                            usingCloudStorage: !!tg.CloudStorage
                        };
                    } catch (e) {
                        return {
                            totalKB: '0',
                            practiceDataKB: '0',
                            maxMonthKB: '0',
                            criticalMonth: '',
                            daysCount: 0,
                            percentage: '0',
                            isWarning: false,
                            isCritical: false,
                            usingCloudStorage: !!tg.CloudStorage
                        };
                    }
                };
                
                const storageInfo = getStorageInfo();
                
                // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                const clearOldData = (months) => {
                    if (!confirm(`–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ä—à–µ ${months} –º–µ—Å—è—Ü–µ–≤?\n\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ù–ï–õ–¨–ó–Ø –æ—Ç–º–µ–Ω–∏—Ç—å!\n\n–°–Ω–∞—á–∞–ª–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ (–ò—Å—Ç–æ—Ä–∏—è ‚Üí üì• –°–∫–∞—á–∞—Ç—å)`)) {
                        return;
                    }
                    
                    const cutoffDate = new Date();
                    cutoffDate.setMonth(cutoffDate.getMonth() - months);
                    const cutoffDateKey = formatDateKey(cutoffDate);
                    
                    const newPracticeData = {};
                    let deletedCount = 0;
                    let keptCount = 0;
                    
                    Object.keys(practiceData).forEach(dateKey => {
                        if (dateKey >= cutoffDateKey) {
                            newPracticeData[dateKey] = practiceData[dateKey];
                            keptCount++;
                        } else {
                            deletedCount++;
                        }
                    });
                    
                    setPracticeData(newPracticeData);
                    
                    if (tg.showAlert) {
                        tg.showAlert(`–£–¥–∞–ª–µ–Ω–æ ${deletedCount} –¥–Ω–µ–π\n–û—Å—Ç–∞–≤–ª–µ–Ω–æ ${keptCount} –¥–Ω–µ–π`);
                    } else {
                        alert(`–£–¥–∞–ª–µ–Ω–æ ${deletedCount} –¥–Ω–µ–π\n–û—Å—Ç–∞–≤–ª–µ–Ω–æ ${keptCount} –¥–Ω–µ–π`);
                    }
                    
                    setShowStorageManagement(false);
                };
                
                return (
                    <div className="space-y-4">
                        <div className="bg-white rounded-xl shadow-lg p-4">
                            <div className="flex items-center gap-4 mb-4">
                                <div className="w-16 h-16 bg-gradient-to-br from-purple-600 to-orange-600 rounded-full flex items-center justify-center text-white text-2xl font-bold overflow-hidden">
                                    {userProfile.avatar ? <img src={userProfile.avatar} className="w-full h-full object-cover" alt="Avatar" /> : userProfile.username[0]?.toUpperCase()}
                                </div>
                                <div className="flex-1">
                                    {editingName ? (
                                        <div className="flex gap-2">
                                            <input type="text" value={newName} onChange={(e) => setNewName(e.target.value)} className="flex-1 px-3 py-2 border rounded-lg text-sm" />
                                            <button onClick={() => {setUserProfile({...userProfile, username: newName}); setEditingName(false);}} className="px-3 py-2 bg-green-600 text-white rounded-lg text-sm">‚úì</button>
                                        </div>
                                    ) : (
                                        <div className="flex items-center gap-2">
                                            <h2 className="text-xl font-bold">{userProfile.username}</h2>
                                            <button onClick={() => setEditingName(true)} className="text-blue-600 text-sm">‚úèÔ∏è</button>
                                        </div>
                                    )}
                                    <div className="text-xs text-gray-600">–° {new Date(userProfile.registrationDate).toLocaleDateString('ru-RU')}</div>
                                </div>
                            </div>
                            <div className="mb-4 p-3 bg-gradient-to-r from-purple-50 to-orange-50 rounded-lg">
                                <div className="flex justify-between items-center mb-2">
                                    <div>
                                        <div className="text-lg font-bold text-purple-600">–£—Ä–æ–≤–µ–Ω—å {getLevelInfo().level}</div>
                                        <div className="text-xs text-gray-600">{getLevelInfo().rank}</div>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-xs text-gray-600">–û–ø—ã—Ç</div>
                                        <div className="text-sm font-semibold">{getLevelInfo().currentXP} / {getLevelInfo().nextLevelXP}</div>
                                    </div>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                    <div className="bg-gradient-to-r from-purple-600 to-orange-600 h-2 rounded-full transition-all duration-500" style={{width: `${getLevelInfo().progress}%`}}></div>
                                </div>
                            </div>
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-2 mb-4">
                                <div className="p-2 bg-orange-50 rounded-lg"><div className="text-xs text-gray-600">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div><div className="text-base font-bold text-orange-600">{calculateStreak()}</div></div>
                                <div className="p-2 bg-red-50 rounded-lg"><div className="text-xs text-gray-600">–ú–∞–∫—Å–∏–º—É–º</div><div className="text-base font-bold text-red-600">{calculateMaxStreak()}</div></div>
                                <div className="p-2 bg-purple-50 rounded-lg"><div className="text-xs text-gray-600">–í—Å–µ–≥–æ</div><div className="text-base font-bold text-purple-600">{Math.floor(getTotalPracticeMinutes() / 60)}—á {getTotalPracticeMinutes() % 60}–º</div></div>
                                <div className="p-2 bg-blue-50 rounded-lg"><div className="text-xs text-gray-600">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div><div className="text-base font-bold text-blue-600">{unlocked.length}/{achievements.length}</div></div>
                            </div>
                            <div className="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div><div className="font-semibold text-sm">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</div><div className="text-xs text-gray-600">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</div></div>
                                <label className="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" checked={darkTheme} onChange={(e) => setDarkTheme(e.target.checked)} className="sr-only peer" />
                                    <div className="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                </label>
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-xl shadow-lg p-4">
                            <h3 className="text-lg font-bold mb-3">üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º</h3>
                            
                            {storageInfo.usingCloudStorage && (
                                <div className="mb-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs">
                                    <div className="font-semibold text-blue-800">‚òÅÔ∏è Telegram CloudStorage</div>
                                    <div className="text-blue-700">–õ–∏–º–∏—Ç: 4 KB –Ω–∞ –º–µ—Å—è—Ü. –î–∞–Ω–Ω—ã–µ —Ä–∞–∑–±–∏—Ç—ã –ø–æ –º–µ—Å—è—Ü–∞–º.</div>
                                </div>
                            )}
                            
                            <div className="mb-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg">
                                <div className="flex justify-between items-center mb-2">
                                    <div className="text-sm font-semibold text-gray-700">
                                        {storageInfo.usingCloudStorage ? '–°–∞–º—ã–π –±–æ–ª—å—à–æ–π –º–µ—Å—è—Ü' : '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –ø–∞–º—è—Ç–∏'}
                                    </div>
                                    <div className="text-sm font-bold text-blue-600">
                                        {storageInfo.usingCloudStorage ? storageInfo.maxMonthKB : storageInfo.totalKB} KB
                                    </div>
                                </div>
                                {storageInfo.usingCloudStorage && storageInfo.criticalMonth && (
                                    <div className="text-xs text-gray-600 mb-2">–ú–µ—Å—è—Ü: {storageInfo.criticalMonth}</div>
                                )}
                                <div className="w-full bg-gray-200 rounded-full h-3 mb-2">
                                    <div 
                                        className={`h-3 rounded-full transition-all duration-500 ${
                                            storageInfo.isCritical ? 'bg-red-600' : 
                                            storageInfo.isWarning ? 'bg-orange-500' : 
                                            'bg-gradient-to-r from-blue-500 to-purple-500'
                                        }`}
                                        style={{width: `${storageInfo.percentage}%`}}
                                    ></div>
                                </div>
                                <div className="text-xs text-gray-600">
                                    {storageInfo.percentage}% –∏–∑ ~{storageInfo.usingCloudStorage ? '4' : '5000'} KB {storageInfo.usingCloudStorage ? '–Ω–∞ –º–µ—Å—è—Ü' : '–≤—Å–µ–≥–æ'}
                                </div>
                            </div>
                            
                            {storageInfo.isWarning && (
                                <div className={`mb-3 p-3 rounded-lg ${storageInfo.isCritical ? 'bg-red-100 border-2 border-red-400' : 'bg-orange-100 border-2 border-orange-400'}`}>
                                    <div className="flex items-center gap-2">
                                        <span className="text-2xl">{storageInfo.isCritical ? 'üî¥' : '‚ö†Ô∏è'}</span>
                                        <div>
                                            <div className="font-bold text-sm">{storageInfo.isCritical ? '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ!' : '–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–∞–º—è—Ç–∏'}</div>
                                            <div className="text-xs">
                                                {storageInfo.isCritical ? (
                                                    storageInfo.usingCloudStorage ? 
                                                    `–ú–µ—Å—è—Ü ${storageInfo.criticalMonth} –±–ª–∏–∑–æ–∫ –∫ –ª–∏–º–∏—Ç—É 4KB. –£–¥–∞–ª–∏—Ç–µ –∑–∞–ø–∏—Å–∏ –∏–∑ —ç—Ç–æ–≥–æ –º–µ—Å—è—Ü–∞.` : 
                                                    '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å. –°—Ä–æ—á–Ω–æ –æ—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏!'
                                                ) : (
                                                    storageInfo.usingCloudStorage ?
                                                    `–ú–µ—Å—è—Ü ${storageInfo.criticalMonth} –∑–∞–ø–æ–ª–Ω–µ–Ω –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 70%. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ.` :
                                                    '–ü–∞–º—è—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 70%. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ.'
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                            
                            <div className="grid grid-cols-2 gap-2 mb-3 text-sm">
                                <div className="p-2 bg-gray-50 rounded">
                                    <div className="text-xs text-gray-600">–î–Ω–µ–π —Å –∑–∞–ø–∏—Å—è–º–∏</div>
                                    <div className="font-bold">{storageInfo.daysCount}</div>
                                </div>
                                <div className="p-2 bg-gray-50 rounded">
                                    <div className="text-xs text-gray-600">–í—Å–µ–≥–æ –¥–∞–Ω–Ω—ã—Ö</div>
                                    <div className="font-bold">{storageInfo.totalKB} KB</div>
                                </div>
                            </div>
                            
                            <button 
                                onClick={() => setShowStorageManagement(true)}
                                className="w-full px-4 py-3 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg font-semibold hover:shadow-lg transition-shadow"
                            >
                                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
                            </button>
                            
                            <div className="mt-2 text-xs text-gray-500 text-center">
                                üí° –°–æ–≤–µ—Ç: –†–µ–≥—É–ª—è—Ä–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ (–ò—Å—Ç–æ—Ä–∏—è ‚Üí üì• –°–∫–∞—á–∞—Ç—å)
                            </div>
                        </div>
                        
                        {showStorageManagement && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" onClick={() => setShowStorageManagement(false)}>
                                <div className="bg-white rounded-xl max-w-md w-full p-6" onClick={(e) => e.stopPropagation()}>
                                    <h3 className="text-xl font-bold mb-4">üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h3>
                                    
                                    <div className="mb-4 p-3 bg-red-50 border-2 border-red-200 rounded-lg">
                                        <div className="flex items-start gap-2">
                                            <span className="text-xl">‚ö†Ô∏è</span>
                                            <div className="text-sm">
                                                <div className="font-bold text-red-800 mb-1">–í–Ω–∏–º–∞–Ω–∏–µ!</div>
                                                <div className="text-red-700">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ù–ï–õ–¨–ó–Ø –æ—Ç–º–µ–Ω–∏—Ç—å!</div>
                                                <div className="text-red-700 mt-1">–°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç: <span className="font-bold">–ò—Å—Ç–æ—Ä–∏—è ‚Üí üì• –°–∫–∞—á–∞—Ç—å</span></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="space-y-2 mb-4">
                                        <button 
                                            onClick={() => clearOldData(6)}
                                            className="w-full p-3 bg-orange-100 hover:bg-orange-200 rounded-lg text-left transition-colors"
                                        >
                                            <div className="font-semibold">–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ä—à–µ 6 –º–µ—Å—è—Ü–µ–≤</div>
                                            <div className="text-xs text-gray-600">–û—Å–≤–æ–±–æ–¥–∏—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º–µ—Å—Ç–∞</div>
                                        </button>
                                        
                                        <button 
                                            onClick={() => clearOldData(12)}
                                            className="w-full p-3 bg-yellow-100 hover:bg-yellow-200 rounded-lg text-left transition-colors"
                                        >
                                            <div className="font-semibold">–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ä—à–µ 1 –≥–æ–¥–∞</div>
                                            <div className="text-xs text-gray-600">–°–æ—Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥</div>
                                        </button>
                                        
                                        <button 
                                            onClick={() => clearOldData(24)}
                                            className="w-full p-3 bg-green-100 hover:bg-green-200 rounded-lg text-left transition-colors"
                                        >
                                            <div className="font-semibold">–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ä—à–µ 2 –ª–µ—Ç</div>
                                            <div className="text-xs text-gray-600">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞</div>
                                        </button>
                                    </div>
                                    
                                    <button 
                                        onClick={() => setShowStorageManagement(false)}
                                        className="w-full bg-gray-600 text-white py-3 rounded-lg font-bold"
                                    >
                                        –û—Ç–º–µ–Ω–∞
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                );
            };

            const tabs = [
                { id: 'calendar', name: '–î–Ω–µ–≤–Ω–∏–∫', icon: 'üìÖ' },
                { id: 'history', name: '–ò—Å—Ç–æ—Ä–∏—è', icon: 'üìú' },
                { id: 'notes', name: '–ó–∞–º–µ—Ç–∫–∏', icon: 'üìù' },
                { id: 'achievements', name: '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è', icon: 'üèÜ' },
                { id: 'profile', name: '–ü—Ä–æ—Ñ–∏–ª—å', icon: 'üë§' }
            ];

            if (loading) return <div className="flex items-center justify-center h-screen"><div className="text-2xl">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...</div></div>;

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 p-4">
                    <div className="max-w-6xl mx-auto">
                        <div className="bg-white rounded-xl shadow-lg p-4 mb-4">
                            <div className="flex justify-between items-center mb-3">
                                <h1 className="text-base sm:text-lg md:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-orange-600 leading-tight">üé∏ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≥–∏—Ç–∞—Ä–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏</h1>
                                <div className="flex items-center gap-2">
                                    <div className="w-8 h-8 bg-gradient-to-br from-purple-600 to-orange-600 rounded-full flex items-center justify-center text-white text-sm font-bold overflow-hidden">
                                        {userProfile.avatar ? <img src={userProfile.avatar} className="w-full h-full object-cover" alt="Avatar" /> : userProfile.username[0]?.toUpperCase()}
                                    </div>
                                    <span className="text-sm font-semibold">{userProfile.username}</span>
                                </div>
                            </div>
                            <div className="flex gap-2 overflow-x-auto">
                                {tabs.map(tab => (
                                    <button key={tab.id} onClick={() => setCurrentTab(tab.id)} className={`px-3 py-2 rounded-lg font-semibold text-sm whitespace-nowrap ${currentTab === tab.id ? 'active-tab bg-gradient-to-r from-purple-600 to-orange-600 text-white' : 'bg-gray-100'}`}>
                                        {tab.icon} {tab.name}
                                    </button>
                                ))}
                            </div>
                        </div>
                        {currentTab === 'calendar' && <CalendarView />}
                        {currentTab === 'history' && <HistoryView />}
                        {currentTab === 'achievements' && <AchievementsView />}
                        {currentTab === 'notes' && <NotesView />}
                        {currentTab === 'profile' && <ProfileView />}
                    </div>
                    <PracticeModal />
                </div>
            );
        };

        ReactDOM.render(<GuitarPracticeApp />, document.getElementById('root'));
    </script>
</body>
</html>
