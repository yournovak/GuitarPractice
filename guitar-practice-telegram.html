<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>üé∏ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ì–∏—Ç–∞—Ä–Ω–æ–π –ü—Ä–∞–∫—Ç–∏–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–º—É Telegram */
        :root {
            --tg-bg: var(--tg-theme-bg-color, #ffffff);
            --tg-text: var(--tg-theme-text-color, #000000);
            --tg-hint: var(--tg-theme-hint-color, #999999);
            --tg-link: var(--tg-theme-link-color, #2481cc);
            --tg-button: var(--tg-theme-button-color, #2481cc);
            --tg-button-text: var(--tg-theme-button-text-color, #ffffff);
        }
        
        .dark-theme {
            background: linear-gradient(to bottom right, #1a1a2e, #16213e) !important;
            color: #e0e0e0;
        }
        
        .dark-theme .bg-white {
            background: #2d2d2d !important;
            color: #e0e0e0 !important;
        }
        
        .dark-theme .bg-gray-50 {
            background: #383838 !important;
            color: #e0e0e0 !important;
        }
        
        .dark-theme .bg-gray-100 {
            background: #404040 !important;
            color: #e0e0e0 !important;
        }
        
        .dark-theme .bg-gradient-to-br {
            background: #3a3a3a !important;
        }
        
        .dark-theme .from-amber-50,
        .dark-theme .from-orange-50,
        .dark-theme .from-purple-50 {
            background: #3a3a3a !important;
        }
        
        .dark-theme .bg-green-50,
        .dark-theme .bg-blue-50,
        .dark-theme .bg-indigo-50,
        .dark-theme .bg-pink-50 {
            background: #3a3a3a !important;
            color: #e0e0e0 !important;
        }
        
        .dark-theme .text-gray-700,
        .dark-theme .text-gray-800,
        .dark-theme .text-gray-900 {
            color: #e0e0e0 !important;
        }
        
        .dark-theme .text-gray-600 {
            color: #b0b0b0 !important;
        }
        
        .dark-theme .text-gray-500 {
            color: #999 !important;
        }
        
        .dark-theme .border-gray-200,
        .dark-theme .border-gray-300 {
            border-color: #555 !important;
        }
        
        .dark-theme .border-orange-200 {
            border-color: #ff8c42 !important;
        }
        
        .dark-theme input,
        .dark-theme textarea {
            background: #383838 !important;
            color: #e0e0e0 !important;
            border-color: #555 !important;
        }
        
        .dark-theme .hover\:bg-gray-50:hover {
            background: #404040 !important;
        }
        
        .dark-theme .from-purple-100.to-orange-100 {
            background: linear-gradient(to right, #3a2c4a, #4a3a2c) !important;
        }
        
        .dark-theme .from-yellow-100.to-orange-100 {
            background: linear-gradient(to bottom right, #5a4a1a, #5a3a1a) !important;
        }
        
        .dark-theme .bg-gray-200 {
            background: #444 !important;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram?.WebApp || { CloudStorage: null };
        if (tg.expand) tg.expand();
        // –£–±—Ä–∞–ª–∏ enableClosingConfirmation - –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

        const GuitarPracticeApp = () => {
            const [currentDate, setCurrentDate] = useState(new Date());
            const [practiceData, setPracticeData] = useState({});
            const [selectedDate, setSelectedDate] = useState(null);
            const [showModal, setShowModal] = useState(false);
            const [currentTab, setCurrentTab] = useState('calendar');
            const [darkTheme, setDarkTheme] = useState(false);
            const [learnedSongs, setLearnedSongs] = useState([]);
            const [toLearnSongs, setToLearnSongs] = useState([]);
            const [dailyQuote, setDailyQuote] = useState('');
            const [loading, setLoading] = useState(true);

            const categories = {
                techniques: { name: '–¢–µ—Ö–Ω–∏–∫–∏', color: 'bg-orange-500', icon: '‚ö°' },
                songs: { name: '–ò–≥—Ä–∞ –ø–µ—Å–µ–Ω', color: 'bg-pink-500', icon: 'üéµ' },
                improvisation: { name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è', color: 'bg-purple-500', icon: 'üé∏' },
                earTraining: { name: '–†–∞–∑–≤–∏—Ç–∏–µ —Å–ª—É—Ö–∞', color: 'bg-blue-500', icon: 'üëÇ' },
                theory: { name: '–¢–µ–æ—Ä–∏—è –º—É–∑—ã–∫–∏', color: 'bg-green-500', icon: 'üìö' }
            };

            const techniques = [
                'Alternate Picking (–ü–®)', 'Sweep Picking (–°–≤–∏–ø)', 'Legato (Hammer-on/Pull-off)',
                'Bending (–ë–µ–Ω–¥—ã)', 'Vibrato', 'Tapping', 'String Skipping', 'Tremolo Picking',
                'Economy Picking', 'Hybrid Picking'
            ];

            const theoryTopics = [
                '–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã', '–ú–∞–∂–æ—Ä–Ω–∞—è –≥–∞–º–º–∞', '–ú–∏–Ω–æ—Ä–Ω–∞—è –≥–∞–º–º–∞', '–ü–µ–Ω—Ç–∞—Ç–æ–Ω–∏–∫–∞',
                '–õ–∞–¥—ã (Modes)', '–ê–∫–∫–æ—Ä–¥–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏', 'CAGED —Å–∏—Å—Ç–µ–º–∞', '–ê—Ä–ø–µ–¥–∂–∏–æ',
                '–ì–∞—Ä–º–æ–Ω–∏–∑–∞—Ü–∏—è –≥–∞–º–º—ã', '–°–µ–ø—Ç–∞–∫–∫–æ—Ä–¥—ã', '–†–∏—Ç–º–∏–∫–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã', '–ö–≤–∞—Ä—Ç–æ-–∫–≤–∏–Ω—Ç–æ–≤—ã–π –∫—Ä—É–≥'
            ];

            const practiceApproaches = ['–†–∞–±–æ—Ç–∞–ª –Ω–∞ —Ä–∞–∑–≥–æ–Ω', '–†–∞–±–æ—Ç–∞–ª —Å –ø—É–Ω–∫—Ç–∏—Ä–∞–º–∏', '–†–∞–±–æ—Ç–∞–ª —Å–ø–∏–¥-–±–µ—Ä—Å—Ç'];
            const songsApproaches = ['–ò–≥—Ä–∞–ª –≤—ã—É—á–µ–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª', '–£—á–∏–ª –Ω–æ–≤–æ–µ'];

            const motivationalQuotes = [
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —è–∑—ã–∫ –¥—É—à–∏, –∞ –≥–∏—Ç–∞—Ä–∞ - —Ç–≤–æ–π –≥–æ–ª–æ—Å.",
                "–ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Ç–µ–±—è –∫ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤—É.",
                "–í–µ–ª–∏–∫–∏–µ –≥–∏—Ç–∞—Ä–∏—Å—Ç—ã –Ω–µ —Ä–æ–∂–¥–∞—é—Ç—Å—è - –æ–Ω–∏ –ø—Ä–∞–∫—Ç–∏–∫—É—é—Ç—Å—è.",
                "–¢–≤–æ–∏ –ø–∞–ª—å—Ü—ã –ø–æ–º–Ω—è—Ç —Ç–æ, —á—Ç–æ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞.",
                "–ü—Ä–æ–≥—Ä–µ—Å—Å - —ç—Ç–æ —Å—É–º–º–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
                "–ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–µ–±—è —Å –¥—Ä—É–≥–∏–º–∏. –°—Ä–∞–≤–Ω–∏–≤–∞–π —Å–µ–±—è –≤—á–µ—Ä–∞—à–Ω–µ–≥–æ —Å —Å–æ–±–æ–π —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–º.",
                "–¢–µ—Ä–ø–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤–∏—á–∫–∞ –≤ –º–∞—Å—Ç–µ—Ä–∞.",
                "–ú—É–∑—ã–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–∞–º, –≥–¥–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è —Å–ª–æ–≤–∞.",
                "–ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ - —ç—Ç–æ —É—Ä–æ–∫ –Ω–∞ –ø—É—Ç–∏ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–≤–æ–∏—Ö —ç–º–æ—Ü–∏–π.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å, –∞ –Ω–µ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ.",
                "–°–µ–≥–æ–¥–Ω—è—à–Ω—è—è –ø—Ä–∞–∫—Ç–∏–∫–∞ - –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–π —É—Å–ø–µ—Ö.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ —á—É–≤—Å—Ç–≤—É—é—Ç –ø–∞–ª—å—Ü—ã, –∫–æ–≥–¥–∞ –º–æ–ª—á–∏—Ç —Ä–∞–∑—É–º.",
                "–¢—ã –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–ª–∏–∂–µ –∫ —Å–≤–æ–µ–π —Ü–µ–ª–∏.",
                "–¢–∞–ª–∞–Ω—Ç –±–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏ - –∫–∞–∫ –≥–∏—Ç–∞—Ä–∞ –±–µ–∑ —Å—Ç—Ä—É–Ω.",
                "–ò–≥—Ä–∞–π –æ—Ç —Å–µ—Ä–¥—Ü–∞, —Ç–µ—Ö–Ω–∏–∫–∞ –ø—Ä–∏–¥—ë—Ç —Å–ª–µ–¥–æ–º.",
                "–ö–∞–∂–¥—ã–π –∞–∫–∫–æ—Ä–¥ - —ç—Ç–æ –Ω–æ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ.",
                "–¢–≤–æ—è –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–≤–æ–π —É—Ä–æ–≤–µ–Ω—å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–µ—Ä–∞–ø–∏—è –¥–ª—è –¥—É—à–∏ –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è, –∫–æ–≥–¥–∞ —É—Å—Ç–∞–ª. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è, –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª.",
                "–†–∏—Ç–º - —ç—Ç–æ –ø—É–ª—å—Å –º—É–∑—ã–∫–∏, –∞ —Ç—ã - –µ—ë —Å–µ—Ä–¥—Ü–µ.",
                "–ì–∏—Ç–∞—Ä–∞ –Ω–µ –ø—Ä–æ—â–∞–µ—Ç –ª–µ–Ω–∏, –Ω–æ —â–µ–¥—Ä–æ –Ω–∞–≥—Ä–∞–∂–¥–∞–µ—Ç —É—Å–µ—Ä–¥–∏–µ.",
                "–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –Ω–µ –¥–Ω—è–º–∏, –∞ –ø—Ä–∞–∫—Ç–∏–∫–æ–π.",
                "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç, –Ω–æ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –∑–∞—Å—Ç–∞—Ç—å —Ç–µ–±—è –∑–∞ —Ä–∞–±–æ—Ç–æ–π.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É –¥—É—à–∞–º–∏.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –ª—é–±–æ–≤—å –∫ –ø—Ä–æ—Ü–µ—Å—Å—É, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.",
                "–ö–∞–∂–¥—ã–π –≤–µ–ª–∏–∫–∏–π –≥–∏—Ç–∞—Ä–∏—Å—Ç –±—ã–ª –∫–æ–≥–¥–∞-—Ç–æ –Ω–æ–≤–∏—á–∫–æ–º.",
                "–¢–≤–æ–∏ —Ä—É–∫–∏ - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Ç–≤–æ—ë —Å–µ—Ä–¥—Ü–µ - –º—É–∑—ã–∫–∞.",
                "–ù–µ –±–æ–π—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ - –±–æ–π—Å—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏.",
                "–ì–∏—Ç–∞—Ä–∞ –∂–¥—ë—Ç —Ç–≤–æ–∏—Ö —Ä—É–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–±—ã–≤–∞–µ—à—å —Å–ª–æ–≤–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –¥–∏–∞–ª–æ–≥ –º–µ–∂–¥—É —Ç–æ–±–æ–π –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º.",
                "–ö–∞–∂–¥—ã–π –±–µ–Ω–¥, –∫–∞–∂–¥–æ–µ –≤–∏–±—Ä–∞—Ç–æ - —ç—Ç–æ —Ç–≤–æ—è –ø–æ–¥–ø–∏—Å—å.",
                "–¢—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞–µ—à—å –Ω–æ—Ç—ã - —Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å –∏—Å—Ç–æ—Ä–∏—é.",
                "–¢–µ—Ä–ø–µ–Ω–∏–µ - –ª—É—á—à–∏–π —É—á–∏—Ç–µ–ª—å –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ –≥–∏—Ç–∞—Ä–∞ –≥–æ–≤–æ—Ä–∏—Ç —Ç–æ, —á—Ç–æ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å —Å–∫–∞–∑–∞—Ç—å.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Ç–∞–∫, –±—É–¥—Ç–æ –Ω–∏–∫—Ç–æ –Ω–µ —Å–ª—É—à–∞–µ—Ç. –ò–≥—Ä–∞–π —Ç–∞–∫, –±—É–¥—Ç–æ –≤—Å–µ —Å–ª—É—à–∞—é—Ç.",
                "–¢–≤–æ—è —Ç–µ—Ö–Ω–∏–∫–∞ - —ç—Ç–æ –ª–µ—Å—Ç–Ω–∏—Ü–∞ –∫ —Å–≤–æ–±–æ–¥–µ –∏–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏–∏.",
                "–ö–∞–∂–¥–∞—è —Å–µ—Ä–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Ç–µ–±—è –∫ –ø–æ—Ç–æ–∫—É.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –∑–µ—Ä–∫–∞–ª–æ —Ç–≤–æ–µ–π –¥—É—à–∏.",
                "–ù–µ –ø—Ä–∞–∫—Ç–∏–∫—É–π –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ —Å—ã–≥—Ä–∞–µ—à—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–∫—Ç–∏–∫—É–π –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ —Å–º–æ–∂–µ—à—å —Å—ã–≥—Ä–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —ç–º–æ—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–µ –∑–≤—É–∫–æ–≤.",
                "–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ–≤–∏–¥–∏–º, –ø–æ–∫–∞ –Ω–µ –æ–≥–ª—è–Ω–µ—à—å—Å—è –Ω–∞–∑–∞–¥.",
                "–ö–∞–∂–¥–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ –±—É–¥—É—â–µ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ.",
                "–ì–∏—Ç–∞—Ä–∞ —É—á–∏—Ç —Ç–µ–±—è –±—ã—Ç—å —Ç–µ—Ä–ø–µ–ª–∏–≤—ã–º –∏ –Ω–∞—Å—Ç–æ–π—á–∏–≤—ã–º.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞—é—Ç –≤—Å–µ.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –º–µ–¥–∏—Ç–∞—Ü–∏—è –¥–ª—è –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–¢—ã —Ä–∞—Å—Ç—ë—à—å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –±–µ—Ä—ë—à—å –≥–∏—Ç–∞—Ä—É –≤ —Ä—É–∫–∏.",
                "–ù–µ –∏—â–∏ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞ - –∏—â–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∂–∏–∑–Ω—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–π.",
                "–¢–≤–æ—è –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –≥–∏—Ç–∞—Ä–µ –≤–µ—Ä–Ω—ë—Ç—Å—è –∫ —Ç–µ–±–µ —Å—Ç–æ—Ä–∏—Ü–µ–π.",
                "–ö–∞–∂–¥—ã–π —Ä–∏—Ñ, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –≤—ã—É—á–∏—à—å, —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ç–≤–æ–π —Å–ª–æ–≤–∞—Ä—å.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –ø—É—Ç—å, –∞ –Ω–µ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.",
                "–ì–∏—Ç–∞—Ä–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–∞–ª–∞–Ω—Ç–∞ - –æ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç –ª—é–±–≤–∏.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.",
                "–¢–≤–æ–∏ –ø–∞–ª—å—Ü—ã - —ç—Ç–æ –∫–∏—Å—Ç–∏, –≥—Ä–∏—Ñ - —Ö–æ–ª—Å—Ç.",
                "–ù–µ –±–æ–π—Å—è –æ—à–∏–±–æ–∫ - –æ–Ω–∏ —á–∞—Å—Ç—å –ø—É—Ç–∏.",
                "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –±–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏ - —à–∞–≥ –Ω–∞–∑–∞–¥.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –ø–∏—â–∞ –¥–ª—è –¥—É—à–∏ –≥–∏—Ç–∞—Ä–∏—Å—Ç–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Å —É–º–æ–º, –∏–≥—Ä–∞–π —Å —Å–µ—Ä–¥—Ü–µ–º.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –¥—Ä—É–≥, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º.",
                "–¢–≤–æ—è —Ç–µ—Ö–Ω–∏–∫–∞ - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Ç–≤–æ–µ–π –º—É–∑—ã–∫–∞–ª—å–Ω–æ—Å—Ç–∏.",
                "–ù–µ —Å—á–∏—Ç–∞–π —á–∞—Å—ã –ø—Ä–∞–∫—Ç–∏–∫–∏ - –¥–µ–ª–∞–π –ø—Ä–∞–∫—Ç–∏–∫—É –≤–∞–∂–Ω–æ–π.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å–æ–µ–¥–∏–Ω—è–µ—Ç –Ω–∞—Å –≤—Å–µ—Ö.",
                "–ö–∞–∂–¥–∞—è –Ω–æ—Ç–∞ - —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—Ä–∞–∑–∏—Ç—å —Å–µ–±—è.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –∫–ª—é—á –∫ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π —Å–≤–æ–±–æ–¥–µ.",
                "–ì–∏—Ç–∞—Ä–∞ –Ω–∞—É—á–∏—Ç —Ç–µ–±—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ –∏ —Å—Ç—Ä–∞—Å—Ç–∏.",
                "–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å - —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–≤–æ–µ–π –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç–∏.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ –¥—É—à–∞ –ø–æ—ë—Ç —á–µ—Ä–µ–∑ –ø–∞–ª—å—Ü—ã.",
                "–ù–µ –∂–¥–∏ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ - —Å–æ–∑–¥–∞–≤–∞–π –ø—Ä–∏–≤—ã—á–∫—É.",
                "–ö–∞–∂–¥–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–µ–π —Å–µ–±—è.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∏—Å—Ç–∏–Ω–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è, –∫–æ–≥–¥–∞ –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è, –∫–æ–≥–¥–∞ –Ω–µ—Ç.",
                "–¢–≤–æ–∏ —Ä—É–∫–∏ –ø–æ–º–Ω—è—Ç –±–æ–ª—å—à–µ, —á–µ–º —Ç—ã –¥—É–º–∞–µ—à—å.",
                "–ù–µ —Å–¥–∞–≤–∞–π—Å—è - –∫–∞–∂–¥—ã–π –º–∞—Å—Ç–µ—Ä –±—ã–ª –∫–æ–≥–¥–∞-—Ç–æ —É—á–µ–Ω–∏–∫–æ–º.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –º–∞–≥–∏—è –≤ —Ñ–æ—Ä–º–µ –∑–≤—É–∫–æ–≤.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–∂–Ω–æ–µ –≤ –ø—Ä–æ—Å—Ç–æ–µ.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ –æ–∫–Ω–æ –≤ —Ç–≤–æ—é –¥—É—à—É.",
                "–ö–∞–∂–¥—ã–π –≥–∏—Ç–∞—Ä–∏—Å—Ç —É–Ω–∏–∫–∞–ª–µ–Ω - –Ω–∞–π–¥–∏ —Å–≤–æ–π –≥–æ–ª–æ—Å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–∞—Å –ª—é–¥—å–º–∏.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ —Ä–∞–∑–≥–æ–≤–æ—Ä —Å —Å–∞–º–∏–º —Å–æ–±–æ–π.",
                "–ù–µ –≥–æ–Ω–∏—Å—å –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å—é - –≥–æ–Ω–∏—Å—å –∑–∞ —Ç–æ—á–Ω–æ—Å—Ç—å—é.",
                "–ì–∏—Ç–∞—Ä–∞ –∂–¥—ë—Ç, –∫–æ–≥–¥–∞ —Ç—ã –≤–µ—Ä–Ω—ë—à—å—Å—è –∫ –Ω–µ–π.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å —ç–º–æ—Ü–∏–µ–π.",
                "–ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ - —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ –±—É–¥—É—â–µ–º—É —Å–µ–±–µ.",
                "–¢–≤–æ—è –º—É–∑—ã–∫–∞ - —ç—Ç–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —Ç–≤–æ–µ–π –¥—É—à–∏.",
                "–ù–µ –±–æ–π—Å—è –Ω–∞—á–∏–Ω–∞—Ç—å –∑–∞–Ω–æ–≤–æ - —ç—Ç–æ —á–∞—Å—Ç—å —Ä–æ—Å—Ç–∞.",
                "–ü—Ä–∞–∫—Ç–∏–∫–∞ - —ç—Ç–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –¥–ª–∏–Ω–æ—é –≤ –∂–∏–∑–Ω—å.",
                "–ì–∏—Ç–∞—Ä–∞ —É—á–∏—Ç —Ç–µ–±—è —Å–ª—É—à–∞—Ç—å –∏ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–≤–æ–¥–µ.",
                "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∞–∫—Ç–∏–∫–∏ - —ç—Ç–æ –ø–æ–±–µ–¥–∞.",
                "–¢–≤–æ—è —Ç–µ—Ö–Ω–∏–∫–∞ —Å–ª—É–∂–∏—Ç —Ç–≤–æ–µ–π –º—É–∑—ã–∫–∞–ª—å–Ω–æ—Å—Ç–∏.",
                "–ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –¥—Ä—É–≥–∏—Ö.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç—ã –∑–∞–±—ã–≤–∞–µ—à—å –æ–±–æ –≤—Å—ë–º.",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ —Ç–≤–æ–π –≥–æ–ª–æ—Å, –∫–æ–≥–¥–∞ —Å–ª–æ–≤–∞ –Ω–µ –Ω—É–∂–Ω—ã.",
                "–ú—É–∑—ã–∫–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è –≤–µ—á–Ω—ã–º.",
                "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è —Å —Ü–µ–ª—å—é, –∏–≥—Ä–∞–π —Å —Ä–∞–¥–æ—Å—Ç—å—é.",
                "–ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –±–µ—Ä—ë—à—å –≥–∏—Ç–∞—Ä—É, –∏–≥—Ä–∞–π –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑. ‚Äî Eric Clapton",
                "–ë–ª—é–∑ - —ç—Ç–æ —Ç–æ, –∫ —á–µ–º—É —è –æ–±—Ä–∞—â–∞—é—Å—å –∑–∞ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ–º –≤–æ –≤—Å–µ—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏—è—Ö. ‚Äî Eric Clapton",
                "–£ —Ç–µ–±—è –≤—Å–µ–≥–æ 12 –Ω–æ—Ç. –î–µ–ª–∞–π —Å –Ω–∏–º–∏ —á—Ç–æ —Ö–æ—á–µ—à—å. ‚Äî Eddie Van Halen",
                "–í—Å–µ–≥–¥–∞ –æ –º—É–∑—ã–∫–µ, –Ω–∏–∫–æ–≥–¥–∞ –Ω–∏ –æ —á—ë–º –¥—Ä—É–≥–æ–º. ‚Äî Eddie Van Halen",
                "–ì–∏—Ç–∞—Ä–∞ - —ç—Ç–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –Ω–µ–π –∏–≥—Ä–∞–µ—Ç. ‚Äî Eddie Van Halen",
                "–ö —á—ë—Ä—Ç—É –ø—Ä–∞–≤–∏–ª–∞. –ï—Å–ª–∏ –∑–≤—É—á–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –∑–Ω–∞—á–∏—Ç —Ç–∞–∫ –∏ –µ—Å—Ç—å. ‚Äî Eddie Van Halen",
                "–î–∞–π –º–Ω–µ –≥–∏—Ç–∞—Ä—É, —Ñ–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ –∏–ª–∏ –º–µ—Ç–ª—É —Å–æ —Å—Ç—Ä—É–Ω–æ–π - –Ω–µ –∑–∞—Å–∫—É—á–∞—é –Ω–∏–≥–¥–µ. ‚Äî Keith Richards",
                "–¢—ã –≤—Å–µ–≥–¥–∞ —É—á–∏—à—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –±–µ—Ä—ë—à—å –µ—ë –≤ —Ä—É–∫–∏. ‚Äî Keith Richards",
                "–†–∞—Å—Å–ª–∞–±—å—Å—è. –ë—É–¥—å —Å–æ–±–æ–π. –ò–≥—Ä–∞–π –º–Ω–æ–≥–æ. ‚Äî Joe Satriani",
                "–ì–∏—Ç–∞—Ä–∞ - –ª—É—á—à–∞—è —Ñ–æ—Ä–º–∞ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –º–µ–Ω—è. ‚Äî Slash",
                "–Ø –±–æ–ª—å—à–æ–π —Ñ–∞–Ω –≥–∏—Ç–∞—Ä—ã. –õ—é–±–ª—é —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. ‚Äî Steve Vai",
                "–£—Å–ø–µ—Ö - —ç—Ç–æ —É–ø–∞—Å—Ç—å –¥–µ–≤—è—Ç—å —Ä–∞–∑ –∏ –ø–æ–¥–Ω—è—Ç—å—Å—è –¥–µ—Å—è—Ç—å. ‚Äî Jon Bon Jovi"
            ];

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Telegram Cloud Storage
            useEffect(() => {
                const loadData = async () => {
                    try {
                        if (tg.CloudStorage) {
                            const keys = ['practiceData', 'learnedSongs', 'toLearnSongs', 'darkTheme'];
                            
                            tg.CloudStorage.getItems(keys, (error, result) => {
                                if (!error && result) {
                                    if (result.practiceData) setPracticeData(JSON.parse(result.practiceData));
                                    if (result.learnedSongs) setLearnedSongs(JSON.parse(result.learnedSongs));
                                    if (result.toLearnSongs) setToLearnSongs(JSON.parse(result.toLearnSongs));
                                    if (result.darkTheme) setDarkTheme(JSON.parse(result.darkTheme));
                                }
                                setLoading(false);
                            });
                        } else {
                            // Fallback to localStorage
                            const loadedPractice = localStorage.getItem('guitarPracticeData');
                            const loadedTheme = localStorage.getItem('darkTheme');
                            const loadedLearned = localStorage.getItem('learnedSongs');
                            const loadedToLearn = localStorage.getItem('toLearnSongs');
                            
                            if (loadedPractice) setPracticeData(JSON.parse(loadedPractice));
                            if (loadedTheme) setDarkTheme(JSON.parse(loadedTheme));
                            if (loadedLearned) setLearnedSongs(JSON.parse(loadedLearned));
                            if (loadedToLearn) setToLearnSongs(JSON.parse(loadedToLearn));
                            
                            setLoading(false);
                        }
                    } catch (e) {
                        console.error('Load error:', e);
                        setLoading(false);
                    }
                };
                
                loadData();
                setDailyQuote(motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)]);
            }, []);

            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            useEffect(() => {
                if (!loading) {
                    if (tg.CloudStorage) {
                        tg.CloudStorage.setItem('practiceData', JSON.stringify(practiceData));
                    } else {
                        localStorage.setItem('guitarPracticeData', JSON.stringify(practiceData));
                    }
                }
            }, [practiceData, loading]);

            useEffect(() => {
                if (!loading) {
                    if (tg.CloudStorage) {
                        tg.CloudStorage.setItem('darkTheme', JSON.stringify(darkTheme));
                    } else {
                        localStorage.setItem('darkTheme', JSON.stringify(darkTheme));
                    }
                    if (darkTheme) {
                        document.body.classList.add('dark-theme');
                    } else {
                        document.body.classList.remove('dark-theme');
                    }
                }
            }, [darkTheme, loading]);

            useEffect(() => {
                if (!loading) {
                    if (tg.CloudStorage) {
                        tg.CloudStorage.setItem('learnedSongs', JSON.stringify(learnedSongs));
                    } else {
                        localStorage.setItem('learnedSongs', JSON.stringify(learnedSongs));
                    }
                }
            }, [learnedSongs, loading]);

            useEffect(() => {
                if (!loading) {
                    if (tg.CloudStorage) {
                        tg.CloudStorage.setItem('toLearnSongs', JSON.stringify(toLearnSongs));
                    } else {
                        localStorage.setItem('toLearnSongs', JSON.stringify(toLearnSongs));
                    }
                }
            }, [toLearnSongs, loading]);

            const formatDateKey = (date) => {
                return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
            };

            const getDaysInMonth = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                return {
                    daysInMonth: lastDay.getDate(),
                    startingDayOfWeek: firstDay.getDay()
                };
            };

            const getTotalMinutes = (dateKey) => {
                if (!practiceData[dateKey] || !practiceData[dateKey].entries) return 0;
                return practiceData[dateKey].entries.reduce((sum, entry) => sum + (entry.minutes || 0), 0);
            };

            const calculateStreak = () => {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                let streak = 0;
                let currentDate = new Date(today);

                while (true) {
                    const dateKey = formatDateKey(currentDate);
                    if (getTotalMinutes(dateKey) > 0) {
                        streak++;
                        currentDate.setDate(currentDate.getDate() - 1);
                    } else {
                        break;
                    }
                }
                return streak;
            };

            const getTotalPracticeMinutes = () => {
                return Object.keys(practiceData).reduce((sum, dateKey) => sum + getTotalMinutes(dateKey), 0);
            };

            const getAverageMinutesPerDay = (days) => {
                const endDate = new Date();
                const startDate = new Date();
                startDate.setDate(endDate.getDate() - days);
                
                let totalMinutes = 0;
                let practiceCount = 0;

                for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {
                    const dateKey = formatDateKey(d);
                    const minutes = getTotalMinutes(dateKey);
                    if (minutes > 0) {
                        totalMinutes += minutes;
                        practiceCount++;
                    }
                }
                return practiceCount > 0 ? Math.round(totalMinutes / practiceCount) : 0;
            };

            const getCategoryMinutes = (category) => {
                let total = 0;
                Object.values(practiceData).forEach(day => {
                    if (day.entries) {
                        day.entries.forEach(entry => {
                            if (entry.category === category) {
                                total += entry.minutes || 0;
                            }
                        });
                    }
                });
                return total;
            };

            const getTechniqueMinutes = (technique) => {
                let total = 0;
                Object.values(practiceData).forEach(day => {
                    if (day.entries) {
                        day.entries.forEach(entry => {
                            if (entry.category === 'techniques' && entry.selectedTechniques && entry.selectedTechniques.includes(technique)) {
                                total += entry.minutes || 0;
                            }
                        });
                    }
                });
                return total;
            };

            const getTotalPracticeDays = () => {
                return Object.keys(practiceData).filter(dateKey => getTotalMinutes(dateKey) > 0).length;
            };

            const techniqueAchievements = techniques.flatMap(tech => [
                { id: `${tech}_10`, name: `${tech}: 10 –º–∏–Ω`, icon: '‚≠ê', technique: tech, threshold: 10 },
                { id: `${tech}_60`, name: `${tech}: 1 —á–∞—Å`, icon: 'üé∏', technique: tech, threshold: 60 },
                { id: `${tech}_300`, name: `${tech}: 5 —á–∞—Å–æ–≤`, icon: 'üî•', technique: tech, threshold: 300 },
                { id: `${tech}_600`, name: `${tech}: 10 —á–∞—Å–æ–≤`, icon: 'üíé', technique: tech, threshold: 600 }
            ]);

            const achievements = [
                { id: 'streak_10', name: '10 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üî•', type: 'streak', threshold: 10 },
                { id: 'streak_30', name: '30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: '‚ö°', type: 'streak', threshold: 30 },
                { id: 'streak_100', name: '100 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üíé', type: 'streak', threshold: 100 },
                { id: 'streak_366', name: '–ì–æ–¥ –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–∞', icon: 'üëë', type: 'streak', threshold: 366 },
                { id: 'streak_500', name: '500 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üåü', type: 'streak', threshold: 500 },
                { id: 'streak_1000', name: '1000 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üèÜ', type: 'streak', threshold: 1000 },
                ...techniqueAchievements,
                { id: 'improv_60', name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è: 1 —á–∞—Å', icon: 'üéµ', type: 'improvisation', threshold: 60 },
                { id: 'improv_1000', name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è: 16+ —á–∞—Å–æ–≤', icon: 'üéº', type: 'improvisation', threshold: 1000 },
                { id: 'improv_10000', name: '–ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è: –í–∏—Ä—Ç—É–æ–∑', icon: 'üèÜ', type: 'improvisation', threshold: 10000 }
            ];

            const getUnlockedAchievements = () => {
                const streak = calculateStreak();
                return achievements.filter(achievement => {
                    if (achievement.type === 'streak') {
                        return streak >= achievement.threshold;
                    } else if (achievement.technique) {
                        return getTechniqueMinutes(achievement.technique) >= achievement.threshold;
                    } else {
                        return getCategoryMinutes(achievement.type) >= achievement.threshold;
                    }
                });
            };

            const exportData = () => {
                const allData = {
                    practice: practiceData,
                    learnedSongs,
                    toLearnSongs
                };
                const dataStr = JSON.stringify(allData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `guitar-practice-backup-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
                URL.revokeObjectURL(url);
                if (tg.showAlert) tg.showAlert('‚úÖ –î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
            };

            const importData = (event) => {
                const file = event.target.files[0];
                if (!file) return;

                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const imported = JSON.parse(e.target.result);
                        if (imported.practice) setPracticeData(imported.practice);
                        if (imported.learnedSongs) setLearnedSongs(imported.learnedSongs);
                        if (imported.toLearnSongs) setToLearnSongs(imported.toLearnSongs);
                        if (tg.showAlert) {
                            tg.showAlert('‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
                        } else {
                            alert('‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
                        }
                    } catch (error) {
                        if (tg.showAlert) {
                            tg.showAlert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö');
                        } else {
                            alert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö');
                        }
                    }
                };
                reader.readAsText(file);
            };

            const savePracticeEntry = (category, minutes, details, sourceLink, selectedTechniques, selectedApproaches, tempo) => {
                const dateKey = formatDateKey(selectedDate);
                const newEntry = {
                    id: Date.now(),
                    category,
                    minutes: parseInt(minutes),
                    details,
                    sourceLink,
                    selectedTechniques,
                    selectedApproaches,
                    tempo,
                    timestamp: new Date().toISOString()
                };

                setPracticeData(prev => ({
                    ...prev,
                    [dateKey]: {
                        ...prev[dateKey],
                        entries: [...(prev[dateKey]?.entries || []), newEntry]
                    }
                }));
            };

            const deleteEntry = (dateKey, entryId) => {
                const confirmDelete = () => {
                    setPracticeData(prev => {
                        const newData = { ...prev };
                        if (newData[dateKey] && newData[dateKey].entries) {
                            newData[dateKey].entries = newData[dateKey].entries.filter(e => e.id !== entryId);
                            if (newData[dateKey].entries.length === 0) {
                                delete newData[dateKey];
                            }
                        }
                        return newData;
                    });
                };

                if (tg.showConfirm) {
                    tg.showConfirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å?', confirmDelete);
                } else {
                    if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å?')) {
                        confirmDelete();
                    }
                }
            };

            const handleDateClick = (day) => {
                const clickedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
                setSelectedDate(clickedDate);
                setShowModal(true);
            };

            const renderCalendar = () => {
                const { daysInMonth, startingDayOfWeek } = getDaysInMonth(currentDate);
                const days = [];
                const weekDays = ['–í—Å', '–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±'];

                weekDays.forEach(day => {
                    days.push(<div key={`header-${day}`} className="text-center font-semibold text-gray-600 p-2">{day}</div>);
                });

                for (let i = 0; i < startingDayOfWeek; i++) {
                    days.push(<div key={`empty-${i}`} className="p-2"></div>);
                }

                for (let day = 1; day <= daysInMonth; day++) {
                    const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
                    const dateKey = formatDateKey(date);
                    const totalMinutes = getTotalMinutes(dateKey);
                    const hasData = practiceData[dateKey];
                    const entryCount = hasData?.entries?.length || 0;

                    days.push(
                        <div
                            key={day}
                            onClick={() => handleDateClick(day)}
                            className={`p-2 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors h-20 flex flex-col ${
                                hasData ? 'bg-gradient-to-br from-amber-50 to-orange-50 border-orange-200' : 'border-gray-200'
                            }`}
                        >
                            <div className="font-semibold text-gray-700 text-sm">{day}</div>
                            {totalMinutes > 0 && (
                                <div className="text-xs mt-auto">
                                    <div className="text-orange-600 font-semibold">
                                        {totalMinutes}–º
                                    </div>
                                </div>
                            )}
                        </div>
                    );
                }

                return days;
            };

            const PracticeModal = () => {
                const [activeCategory, setActiveCategory] = useState('techniques');
                const [minutes, setMinutes] = useState('');
                const [notes, setNotes] = useState('');
                const [sourceLink, setSourceLink] = useState('');
                const [selectedTechniques, setSelectedTechniques] = useState([]);
                const [selectedTheory, setSelectedTheory] = useState([]);
                const [selectedApproaches, setSelectedApproaches] = useState([]);
                const [selectedSongApproaches, setSelectedSongApproaches] = useState([]);
                const [tempo, setTempo] = useState('');

                if (!showModal || !selectedDate) return null;

                const dateKey = formatDateKey(selectedDate);
                const existingEntries = practiceData[dateKey]?.entries || [];

                const handleSave = () => {
                    if (!minutes) {
                        if (tg.showAlert) {
                            tg.showAlert('–£–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º—è –ø—Ä–∞–∫—Ç–∏–∫–∏');
                        } else {
                            alert('–£–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º—è –ø—Ä–∞–∫—Ç–∏–∫–∏');
                        }
                        return;
                    }

                    let details = notes;
                    let approachesToSave = [];
                    let techniquesToSave = [];

                    if (activeCategory === 'techniques') {
                        const parts = [];
                        if (selectedTechniques.length > 0) {
                            parts.push(`–¢–µ—Ö–Ω–∏–∫–∏: ${selectedTechniques.join(', ')}`);
                            techniquesToSave = selectedTechniques;
                        }
                        if (selectedApproaches.length > 0) {
                            parts.push(`–ü–æ–¥—Ö–æ–¥: ${selectedApproaches.join(', ')}`);
                            approachesToSave = selectedApproaches;
                        }
                        const finalTempo = tempo || '120';
                        parts.push(`–¢–µ–º–ø: ${finalTempo} bpm`);
                        if (notes) parts.push(notes);
                        details = parts.join(' | ');
                    } else if (activeCategory === 'songs') {
                        const parts = [];
                        if (selectedSongApproaches.length > 0) {
                            parts.push(selectedSongApproaches.join(', '));
                            approachesToSave = selectedSongApproaches;
                        }
                        if (notes) parts.push(notes);
                        details = parts.join(' | ');
                    } else if (activeCategory === 'theory' && selectedTheory.length > 0) {
                        details = `–ò–∑—É—á–µ–Ω–æ: ${selectedTheory.join(', ')}${notes ? '. ' + notes : ''}`;
                    }

                    savePracticeEntry(activeCategory, minutes, details, sourceLink, techniquesToSave, approachesToSave, tempo || '120');
                    
                    setMinutes('');
                    setNotes('');
                    setSourceLink('');
                    setSelectedTechniques([]);
                    setSelectedTheory([]);
                    setSelectedApproaches([]);
                    setSelectedSongApproaches([]);
                    setTempo('');
                    
                    if (tg.showAlert) tg.showAlert('‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                        <div className="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                            <div className="sticky top-0 bg-gradient-to-r from-purple-600 to-orange-600 text-white p-6 rounded-t-xl">
                                <div className="flex justify-between items-center">
                                    <h2 className="text-2xl font-bold">
                                        {selectedDate.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' })}
                                    </h2>
                                    <button onClick={() => setShowModal(false)} className="text-white hover:bg-white hover:bg-opacity-20 rounded-full w-8 h-8 flex items-center justify-center">‚úï</button>
                                </div>
                            </div>

                            <div className="p-6">
                                <div className="flex gap-2 mb-6 flex-wrap">
                                    {Object.entries(categories).map(([key, cat]) => (
                                        <button
                                            key={key}
                                            onClick={() => setActiveCategory(key)}
                                            className={`px-4 py-2 rounded-lg font-semibold transition ${activeCategory === key ? `${cat.color} text-white` : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                        >
                                            {cat.icon} {cat.name}
                                        </button>
                                    ))}
                                </div>

                                <div className="space-y-4 mb-6">
                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">–í—Ä–µ–º—è –ø—Ä–∞–∫—Ç–∏–∫–∏ (–º–∏–Ω—É—Ç—ã)</label>
                                        <input type="number" value={minutes} onChange={(e) => setMinutes(e.target.value)} className="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="30" />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">–°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                                        <input type="url" value={sourceLink} onChange={(e) => setSourceLink(e.target.value)} className="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="https://youtube.com/..." />
                                    </div>

                                    {activeCategory === 'techniques' && (
                                        <>
                                            <div>
                                                <label className="block text-sm font-semibold text-gray-700 mb-2">–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏</label>
                                                <div className="grid grid-cols-2 gap-2">
                                                    {techniques.map(tech => (
                                                        <label key={tech} className="flex items-center gap-2 cursor-pointer">
                                                            <input type="checkbox" checked={selectedTechniques.includes(tech)} onChange={(e) => {
                                                                if (e.target.checked) setSelectedTechniques([...selectedTechniques, tech]);
                                                                else setSelectedTechniques(selectedTechniques.filter(t => t !== tech));
                                                            }} className="w-4 h-4" />
                                                            <span className="text-sm">{tech}</span>
                                                        </label>
                                                    ))}
                                                </div>
                                            </div>

                                            <div>
                                                <label className="block text-sm font-semibold text-gray-700 mb-2">–ü–æ–¥—Ö–æ–¥ –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ</label>
                                                <div className="grid grid-cols-1 gap-2">
                                                    {practiceApproaches.map(approach => (
                                                        <label key={approach} className="flex items-center gap-2 cursor-pointer">
                                                            <input type="checkbox" checked={selectedApproaches.includes(approach)} onChange={(e) => {
                                                                if (e.target.checked) setSelectedApproaches([...selectedApproaches, approach]);
                                                                else setSelectedApproaches(selectedApproaches.filter(a => a !== approach));
                                                            }} className="w-4 h-4" />
                                                            <span className="text-sm">{approach}</span>
                                                        </label>
                                                    ))}
                                                </div>
                                            </div>

                                            <div>
                                                <label className="block text-sm font-semibold text-gray-700 mb-2">–¢–µ–º–ø (bpm) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 120</label>
                                                <input type="number" value={tempo} onChange={(e) => setTempo(e.target.value)} className="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="120" />
                                            </div>
                                        </>
                                    )}

                                    {activeCategory === 'songs' && (
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">–ß—Ç–æ –¥–µ–ª–∞–ª</label>
                                            <div className="grid grid-cols-1 gap-2">
                                                {songsApproaches.map(approach => (
                                                    <label key={approach} className="flex items-center gap-2 cursor-pointer">
                                                        <input type="checkbox" checked={selectedSongApproaches.includes(approach)} onChange={(e) => {
                                                            if (e.target.checked) setSelectedSongApproaches([...selectedSongApproaches, approach]);
                                                            else setSelectedSongApproaches(selectedSongApproaches.filter(a => a !== approach));
                                                        }} className="w-4 h-4" />
                                                        <span className="text-sm">{approach}</span>
                                                    </label>
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    {activeCategory === 'theory' && (
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">–ò–∑—É—á–µ–Ω–Ω—ã–µ —Ç–µ–º—ã</label>
                                            <div className="grid grid-cols-2 gap-2">
                                                {theoryTopics.map(topic => (
                                                    <label key={topic} className="flex items-center gap-2 cursor-pointer">
                                                        <input type="checkbox" checked={selectedTheory.includes(topic)} onChange={(e) => {
                                                            if (e.target.checked) setSelectedTheory([...selectedTheory, topic]);
                                                            else setSelectedTheory(selectedTheory.filter(t => t !== topic));
                                                        }} className="w-4 h-4" />
                                                        <span className="text-sm">{topic}</span>
                                                    </label>
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">–ó–∞–º–µ—Ç–∫–∏</label>
                                        <textarea value={notes} onChange={(e) => setNotes(e.target.value)} className="w-full px-4 py-2 border border-gray-300 rounded-lg" rows="3" placeholder="–ß—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞–ª, –∫–∞–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è..."></textarea>
                                    </div>

                                    <button onClick={handleSave} className="w-full bg-gradient-to-r from-purple-600 to-orange-600 text-white py-3 rounded-lg font-bold hover:shadow-lg transition">
                                        –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
                                    </button>
                                </div>

                                {existingEntries.length > 0 && (
                                    <div className="border-t pt-6">
                                        <h3 className="font-bold text-lg mb-4">–ó–∞–ø–∏—Å–∏ –∑–∞ –¥–µ–Ω—å ({existingEntries.length})</h3>
                                        {existingEntries.map((entry, idx) => (
                                            <div key={entry.id} className="mb-4 p-4 bg-gray-50 rounded-lg">
                                                <div className="flex items-center justify-between mb-2">
                                                    <div className="flex items-center gap-2">
                                                        <span className={`w-3 h-3 rounded-full ${categories[entry.category]?.color}`}></span>
                                                        <span className="font-semibold">{categories[entry.category]?.name}</span>
                                                        <span className="text-sm text-gray-600">‚Ä¢ {entry.minutes} –º–∏–Ω</span>
                                                    </div>
                                                    <button onClick={() => deleteEntry(dateKey, entry.id)} className="text-red-500 hover:text-red-700 text-sm">‚úï –£–¥–∞–ª–∏—Ç—å</button>
                                                </div>
                                                {entry.details && <div className="text-sm text-gray-700 ml-5">{entry.details}</div>}
                                                {entry.sourceLink && (
                                                    <div className="mt-2 ml-5">
                                                        <a href={entry.sourceLink} target="_blank" rel="noopener noreferrer" className="text-xs text-blue-600 hover:underline">
                                                            üîó {entry.sourceLink}
                                                        </a>
                                                    </div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            const CalendarView = () => {
                const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å', '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];

                return (
                    <>
                        <div className="bg-white rounded-xl shadow-lg p-4 mb-4">
                            <div className="flex items-center justify-between">
                                <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1))} className="px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-sm font-bold">
                                    ‚Üê 
                                </button>
                                <h2 className="text-xl md:text-2xl font-bold text-gray-800">{monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}</h2>
                                <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1))} className="px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition text-sm font-bold">
                                    ‚Üí
                                </button>
                            </div>
                        </div>

                        <div className="bg-white rounded-xl shadow-lg p-4 mb-4">
                            <div className="grid grid-cols-7 gap-1">{renderCalendar()}</div>
                        </div>

                        <div className="bg-gradient-to-r from-purple-100 to-orange-100 rounded-xl shadow-lg p-4 mb-4">
                            <div className="text-center">
                                <div className="text-xs text-gray-600 mb-1">üí≠ –ú–æ—Ç–∏–≤–∞—Ü–∏—è –¥–Ω—è</div>
                                <div className="text-sm md:text-base font-semibold text-gray-800 italic">"{dailyQuote}"</div>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div className="bg-white rounded-xl shadow-lg p-4">
                                <h3 className="text-lg font-bold mb-3">üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                                <div className="space-y-3">
                                    <div className="flex items-center justify-between p-3 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg">
                                        <div className="flex items-center gap-3">
                                            <span className="text-2xl">üî•</span>
                                            <div>
                                                <div className="text-xs text-gray-600">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                                                <div className="text-xl font-bold text-orange-600">{calculateStreak()}</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex items-center justify-between p-3 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg">
                                        <div className="flex items-center gap-3">
                                            <span className="text-2xl">‚è±Ô∏è</span>
                                            <div>
                                                <div className="text-xs text-gray-600">–í—Å–µ–≥–æ –ø—Ä–∞–∫—Ç–∏–∫–∏</div>
                                                <div className="text-xl font-bold text-purple-600">
                                                    {getTotalPracticeMinutes()} –º–∏–Ω
                                                    <span className="text-xs text-gray-500 ml-1">({Math.floor(getTotalPracticeMinutes() / 60)}—á)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-2">
                                        <div className="p-2 bg-blue-50 rounded-lg">
                                            <div className="text-xs text-gray-600">–°—Ä–µ–¥–Ω–µ–µ (–Ω–µ–¥)</div>
                                            <div className="text-base font-bold text-blue-600">{getAverageMinutesPerDay(7)} –º–∏–Ω</div>
                                        </div>
                                        <div className="p-2 bg-indigo-50 rounded-lg">
                                            <div className="text-xs text-gray-600">–°—Ä–µ–¥–Ω–µ–µ (–º–µ—Å)</div>
                                            <div className="text-base font-bold text-indigo-600">{getAverageMinutesPerDay(30)} –º–∏–Ω</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-xl shadow-lg p-4">
                                <h3 className="text-lg font-bold mb-3">üéØ –ü–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º</h3>
                                <div className="space-y-2">
                                    {Object.entries(categories).map(([key, cat]) => {
                                        const minutes = getCategoryMinutes(key);
                                        const hours = Math.floor(minutes / 60);
                                        const mins = minutes % 60;
                                        return (
                                            <div key={key} className="p-3 bg-gray-50 rounded-lg">
                                                <div className="flex items-center justify-between mb-2">
                                                    <div className="flex items-center gap-2">
                                                        <div className={`w-3 h-3 rounded-full ${cat.color}`}></div>
                                                        <span className="font-semibold text-sm">{cat.icon} {cat.name}</span>
                                                    </div>
                                                    <span className="text-xs text-gray-500">{hours > 0 ? `${hours}—á ${mins}–º` : `${mins}–º`}</span>
                                                </div>
                                                <div className="text-xl font-bold text-gray-800">{minutes} <span className="text-sm text-gray-500">–º–∏–Ω—É—Ç</span></div>
                                                <div className="w-full bg-gray-200 rounded-full h-2 mt-2">
                                                    <div className={`${cat.color} h-2 rounded-full transition-all`} style={{ width: `${Math.min((minutes / (getTotalPracticeMinutes() || 1)) * 100, 100)}%` }}></div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>
                    </>
                );
            };

            const AchievementsView = () => {
                const unlocked = getUnlockedAchievements();
                return (
                    <div className="bg-white rounded-xl shadow-lg p-6">
                        <h3 className="text-2xl font-bold mb-6">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è ({unlocked.length}/{achievements.length})</h3>
                        <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3">
                            {achievements.map(achievement => {
                                const isUnlocked = unlocked.some(a => a.id === achievement.id);
                                return (
                                    <div
                                        key={achievement.id}
                                        className={`p-3 rounded-lg text-center transition-all ${
                                            isUnlocked ? 'bg-gradient-to-br from-yellow-100 to-orange-100 border-2 border-yellow-400 shadow-md' : 'bg-gray-100 opacity-40 grayscale'
                                        }`}
                                        title={achievement.name}
                                    >
                                        <div className="text-3xl mb-1">{achievement.icon}</div>
                                        <div className="text-xs font-semibold text-gray-700 leading-tight">{achievement.name}</div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                );
            };

            const NotesView = () => {
                const [newLearnedSong, setNewLearnedSong] = useState('');
                const [newToLearnSong, setNewToLearnSong] = useState('');
                const [currentTempo, setCurrentTempo] = useState('');
                const [targetTempo, setTargetTempo] = useState('');

                const addLearnedSong = () => {
                    if (newLearnedSong.trim()) {
                        setLearnedSongs([...learnedSongs, { name: newLearnedSong, date: new Date().toISOString() }]);
                        setNewLearnedSong('');
                    }
                };

                const addToLearnSong = () => {
                    if (newToLearnSong.trim()) {
                        setToLearnSongs([...toLearnSongs, { name: newToLearnSong, currentTempo: currentTempo || '0', targetTempo: targetTempo || '120', date: new Date().toISOString() }]);
                        setNewToLearnSong('');
                        setCurrentTempo('');
                        setTargetTempo('');
                    }
                };

                return (
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl shadow-lg p-6">
                            <h3 className="text-xl font-bold mb-4">‚úÖ –í—ã—É—á–µ–Ω–Ω—ã–µ –ø–µ—Å–Ω–∏ ({learnedSongs.length})</h3>
                            <div className="space-y-3 mb-4">
                                {learnedSongs.map((song, idx) => (
                                    <div key={idx} className="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                        <span className="font-semibold">{song.name}</span>
                                        <button onClick={() => setLearnedSongs(learnedSongs.filter((_, i) => i !== idx))} className="text-red-500 hover:text-red-700">‚úï</button>
                                    </div>
                                ))}
                            </div>
                            <div className="flex gap-2">
                                <input type="text" value={newLearnedSong} onChange={(e) => setNewLearnedSong(e.target.value)} placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏" className="flex-1 px-4 py-2 border border-gray-300 rounded-lg" onKeyPress={(e) => e.key === 'Enter' && addLearnedSong()} />
                                <button onClick={addLearnedSong} className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">+</button>
                            </div>
                        </div>

                        <div className="bg-white rounded-xl shadow-lg p-6">
                            <h3 className="text-xl font-bold mb-4">üéØ –°–æ–±–∏—Ä–∞—é—Å—å –≤—ã—É—á–∏—Ç—å ({toLearnSongs.length})</h3>
                            <div className="space-y-3 mb-4">
                                {toLearnSongs.map((song, idx) => (
                                    <div key={idx} className="p-3 bg-blue-50 rounded-lg">
                                        <div className="flex items-center justify-between mb-2">
                                            <span className="font-semibold">{song.name}</span>
                                            <button onClick={() => setToLearnSongs(toLearnSongs.filter((_, i) => i !== idx))} className="text-red-500 hover:text-red-700">‚úï</button>
                                        </div>
                                        <div className="text-sm text-gray-600">–¢–µ–∫—É—â–∏–π: {song.currentTempo} bpm ‚Üí –¶–µ–ª—å: {song.targetTempo} bpm</div>
                                    </div>
                                ))}
                            </div>
                            <div className="space-y-2">
                                <input type="text" value={newToLearnSong} onChange={(e) => setNewToLearnSong(e.target.value)} placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏" className="w-full px-4 py-2 border border-gray-300 rounded-lg" />
                                <div className="grid grid-cols-2 gap-2">
                                    <input type="number" value={currentTempo} onChange={(e) => setCurrentTempo(e.target.value)} placeholder="–¢–µ–∫—É—â–∏–π —Ç–µ–º–ø" className="px-4 py-2 border border-gray-300 rounded-lg" />
                                    <input type="number" value={targetTempo} onChange={(e) => setTargetTempo(e.target.value)} placeholder="–¶–µ–ª–µ–≤–æ–π —Ç–µ–º–ø" className="px-4 py-2 border border-gray-300 rounded-lg" />
                                </div>
                                <button onClick={addToLearnSong} className="w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">–î–æ–±–∞–≤–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                );
            };

            const SettingsView = () => {
                return (
                    <div className="bg-white rounded-xl shadow-lg p-6">
                        <h3 className="text-2xl font-bold mb-6">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                        <div className="space-y-4">
                            <div className="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <div>
                                    <div className="font-semibold">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</div>
                                    <div className="text-sm text-gray-600">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç—ë–º–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</div>
                                </div>
                                <label className="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" checked={darkTheme} onChange={(e) => setDarkTheme(e.target.checked)} className="sr-only peer" />
                                    <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                </label>
                            </div>
                            
                            <div className="flex gap-2">
                                <button onClick={exportData} className="flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold">
                                    üì• –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                                </button>
                                <label className="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold cursor-pointer text-center">
                                    üì§ –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                                    <input type="file" accept=".json" onChange={importData} className="hidden" />
                                </label>
                            </div>
                        </div>
                    </div>
                );
            };

            const tabs = [
                { id: 'calendar', name: 'üìÖ –î–Ω–µ–≤–Ω–∏–∫', icon: 'üìÖ' },
                { id: 'achievements', name: 'üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è', icon: 'üèÜ' },
                { id: 'notes', name: 'üìù –ó–∞–º–µ—Ç–∫–∏', icon: 'üìù' },
                { id: 'settings', name: '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏', icon: '‚öôÔ∏è' }
            ];

            if (loading) {
                return (
                    <div className="flex items-center justify-center h-screen">
                        <div className="text-2xl">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 p-4">
                    <div className="max-w-6xl mx-auto">
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                            <h1 className="text-3xl font-bold bg-gradient-to-r from-purple-600 to-orange-600 bg-clip-text text-transparent mb-4">
                                üé∏ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ì–∏—Ç–∞—Ä–Ω–æ–π –ü—Ä–∞–∫—Ç–∏–∫–∏
                            </h1>

                            <div className="flex gap-2 flex-wrap">
                                {tabs.map(tab => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setCurrentTab(tab.id)}
                                        className={`px-4 py-2 rounded-lg font-semibold transition ${
                                            currentTab === tab.id ? 'bg-gradient-to-r from-purple-600 to-orange-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                        }`}
                                    >
                                        {tab.icon} {tab.name.replace(tab.icon + ' ', '')}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {currentTab === 'calendar' && <CalendarView />}
                        {currentTab === 'achievements' && <AchievementsView />}
                        {currentTab === 'notes' && <NotesView />}
                        {currentTab === 'settings' && <SettingsView />}
                    </div>

                    <PracticeModal />
                </div>
            );
        };

        ReactDOM.render(<GuitarPracticeApp />, document.getElementById('root'));
    </script>
</body>
</html>
